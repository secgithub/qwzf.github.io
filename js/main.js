!function(e,s){var a=$("body, html"),o=$("#post-toc"),i=$("#header-menu"),n=$("#sidebar-top"),c=$("#sidebar-search"),t=$(".search-wrap"),r=$("#sidebar-menu-box-tags"),d=$("#mobile-header-container-tags"),l=$("#sidebar-menu-box-categories"),h=$("#sidebar-menu-box"),u=$("#mobile-header-menu-nav"),m=!1,f=!0,p=s.documentElement.clientHeight,w={showHeaderMenu:function(e){.1*p<e?(i.removeClass("slide-down"),i.addClass("slide-up")):(i.removeClass("slide-up"),i.addClass("slide-down"))},showBackTop:function(e){n.css("display",p<e?"block":"none")},setTags:function(e){var s=e.find("a");s.css({"font-size":"15px"});for(var a=0,o=s.length;a<o;a++){var i=s.eq(a).html().length%5+1;s[a].className="",s.eq(a).addClass("color"+i)}},setCategories:function(){var e=l.find("a");e.css({"font-size":"15px"});for(var s=0,a=e.length;s<a;s++){var o=e.eq(s).html().length%5+1;e[s].className="",e.eq(s).addClass("color"+o)}},showSidebarBox:function(e){e?h.animate({height:"162px",opacity:"1"},300):h.animate({height:"0px",opacity:"0"},300)},showToc:function(e){.4<=e/p?(o.removeClass("post-toc-top"),o.addClass("post-toc-not-top")):(o.removeClass("post-toc-not-top"),o.addClass("post-toc-top"))},showMobileHeaderMenu:function(e){if(m)return!1;e?u.addClass("mobile-header-menu-nav-in"):u.removeClass("mobile-header-menu-nav-in")},hideMask:function(e){$(".mask").removeClass("in"),e&&e.removeClass("in")},share:function(){var e=$("#share-sub");if(e){var s=$("#share-list"),a=$("#wxFab"),o=$("#wxShare-close"),i=$(".mask");e.click(function(){s.hasClass("in")?s.removeClass("in"):s.addClass("in")}),a.click(function(){$("#wxShare").addClass("in ready"),i.addClass("in")}),o.click(function(){w.hideMask($("#wxShare"))}),i.click(function(){w.hideMask($("#wxShare"))})}},reward:function(){var e=$("#reward"),s=$("#reward-close"),a=$("#rewardCode"),o=$(".reward-select-item"),i=$(".mask");e&&($("#rewardBtn").click(function(){e.addClass("in ready"),i.addClass("in")}),o.click(function(){$(this).addClass("checked").siblings(o).removeClass("checked"),a.attr("src","wechat"===$(this).attr("data-id")?this.dataset.wechat:this.dataset.alipay)}),s.click(function(){w.hideMask(e)}),i.click(function(){w.hideMask(e)}))}};initSearch(),c.click(function(){t.css("top","50%"),t.css("marginTop","-80px"),t.css("opacity","1")}),$(".search-close").click(function(){t.css("top","0"),t.css("opacity","0"),$("#search-container").removeClass("search-container-show")}),w.setTags(r),w.setTags(d),w.setCategories(),$("#sidebar-category").click(function(e){r.css("display","none"),l.css("display","block"),e.stopPropagation(),f=f?(w.showSidebarBox(!0),!1):(w.showSidebarBox(!1),!0)}),$("#sidebar-tag").click(function(e){r.css("display","block"),l.css("display","none"),e.stopPropagation(),f=f?(w.showSidebarBox(!0),!1):(w.showSidebarBox(!1),!0)}),h.click(function(e){if(e.stopPropagation(),f)return!1}),$(".sidebar-menu-box-close").click(function(){w.showSidebarBox(!1),f=!0}),n.click(function(){a.animate({scrollTop:0},500)}),s.addEventListener("scroll",function(){var e=s.documentElement.scrollTop||s.body.scrollTop;w.showHeaderMenu(e),w.showBackTop(e),w.showToc(e)},!1),$(".mobile-header-menu-button").click(function(){if(m)return!1;w.showMobileHeaderMenu(!0),m=!0,window.setTimeout(function(){m=!1},350)}),e.mihoConfig.share&&w.share(),1!==e.mihoConfig.reward&&2!==e.mihoConfig.reward||w.reward(),a.click(function(){w.showSidebarBox(!1),f=!0,w.showMobileHeaderMenu(!1)})}(window,document);