<!DOCTYPE html><html><head><meta name=generator content="Hexo 3.9.0"><meta charset=utf-8><title>Python学习-网络爬虫(一) | qwzf</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=keywords content="qwzf,Qwzf's Blog"><meta name=description content="0x00 前言一直都听说过网络爬虫，网络爬虫到底是什么？带着这个问题，我开始学习编写网络爬虫。下面记录了我学习过程中遇到的网络爬虫相关知识： 0x01 爬虫基本原理1、爬虫概述 1.1 网络爬虫是什么？网络爬虫是请求网站并提取数据的自动化程序。网络爬虫有很多类型，常用的有通用网络爬虫、聚焦网络爬虫等。 1.2 爬虫基本流程 发起请求：通过HTTP库向目标站点发起请求，即发送一个Request,请"><meta name=keywords content=Python,网络爬虫,urllib库,requests库><meta property=og:type content=article><meta property=og:title content=Python学习-网络爬虫(一)><meta property=og:url content=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/index.html><meta property=og:site_name content=qwzf><meta property=og:description content="0x00 前言一直都听说过网络爬虫，网络爬虫到底是什么？带着这个问题，我开始学习编写网络爬虫。下面记录了我学习过程中遇到的网络爬虫相关知识： 0x01 爬虫基本原理1、爬虫概述 1.1 网络爬虫是什么？网络爬虫是请求网站并提取数据的自动化程序。网络爬虫有很多类型，常用的有通用网络爬虫、聚焦网络爬虫等。 1.2 爬虫基本流程 发起请求：通过HTTP库向目标站点发起请求，即发送一个Request,请"><meta property=og:locale content=zh-CN><meta property=og:image content=http://img-blog.csdnimg.cn/20200216023828228.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219002453503.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200216023624659.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200216023640465.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218211259509.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/2020021821172584.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218213959656.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218214334969.png><meta property=og:image content=http://img-blog.csdnimg.cn/20200218220551494.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218220836104.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218233651629.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218234234841.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200218234601749.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219001321841.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219001422156.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219224354305.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219224708469.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219233145482.jpg><meta property=og:image content=http://img-blog.csdnimg.cn/20200219234029252.jpg><meta property=og:updated_time content=2020-02-19T16:34:59.195Z><meta name=twitter:card content=summary><meta name=twitter:title content=Python学习-网络爬虫(一)><meta name=twitter:description content="0x00 前言一直都听说过网络爬虫，网络爬虫到底是什么？带着这个问题，我开始学习编写网络爬虫。下面记录了我学习过程中遇到的网络爬虫相关知识： 0x01 爬虫基本原理1、爬虫概述 1.1 网络爬虫是什么？网络爬虫是请求网站并提取数据的自动化程序。网络爬虫有很多类型，常用的有通用网络爬虫、聚焦网络爬虫等。 1.2 爬虫基本流程 发起请求：通过HTTP库向目标站点发起请求，即发送一个Request,请"><meta name=twitter:image content=http://img-blog.csdnimg.cn/20200216023828228.jpg><link rel=icon href=/favicon.ico><link href=//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/css/style.css><script src=/js/pace.min.js></script></head></html><script src=https://g.joyinshare.com/hc/ribbon.min.js type=text/javascript></script><canvas class=fireworks style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas><script type=text/javascript src=//cdn.bootcss.com/animejs/2.2.0/anime.min.js></script><script type=text/javascript src=/js/clicklove.js></script><body><div id=container><header id=header><div id=banner></div><div id=header-outer><div id=header-menu class="header-menu-pos animated"><div class=header-menu-container><a href="/" class=left><span class=site-title>Qwzf&#39;s Blog</span></a><nav id=header-menu-nav class=right><a href="/"><i class="fa fa-home"></i> <span>Home</span></a> <a target=_blank href=/archives><i class="fa fa-archive"></i> <span>Archives</span></a> <a href=/about><i class="fa fa-user"></i> <span>About</span></a></nav><a class=mobile-header-menu-button><i class="fa fa-bars"></i></a></div></div><div id=header-row><div id=logo><a href="/"><img src=/images/logo.png alt=logo></a></div><div class=header-info><div id=header-title><h2>Qwzf&#39;s Blog</h2></div><div id=header-description><h3>一个爱学习的小白</h3></div></div><nav class=header-nav><div class=social><a title=qwzf target=_blank href=//qwzf.github.io><i class="fa fa-home fa-2x"></i></a> <a title=Github target=_blank href="//github.com/"><i class="fa fa-github fa-2x"></i></a> <a title=Weibo target=_blank href="//weibo.com/"><i class="fa fa-weibo fa-2x"></i></a> <a title=Twitter target=_blank href="//twitter.com/"><i class="fa fa-twitter fa-2x"></i></a></div></nav></div></div></header><div class=outer><section id=main class=body-wrap><article id=post-Python学习-网络爬虫(一) class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=post-title itemprop=name>Python学习-网络爬虫(一)</h1><div class=post-title-bar><ul><li><i class="fa fa-book"></i> <span class=post-meta-item-text>分类:</span> <span class=post-count><a href="/categories/Python/">Python</a></span></li><li><i class="fa fa-calendar"></i> <span class=post-meta-item-text>日期:</span> <span class=post-count>2020-02-20</span></li><li><i class="fa fa-eye"></i> <span class=post-meta-item-text>阅读量:</span> <span id=busuanzi_value_page_pv>次</span></li><li><span class=post-time><span class=post-meta-item-icon><i class="fa fa-keyboard-o"></i> <span class=post-meta-item-text>字数统计:</span> <span class=post-count>3.6k字</span></span></span></li><li><span class=post-time><span class=post-meta-item-icon><i class="fa fa-hourglass-half"></i> <span class=post-meta-item-text>阅读时长:</span> <span class=post-count>17分</span></span></span></li></ul></div></header><div class="article-entry post-content" itemprop=articleBody><h3 id=0x00-前言><a href=#0x00-前言 class=headerlink title="0x00 前言"></a>0x00 前言</h3><p>一直都听说过网络爬虫，网络爬虫到底是什么？带着这个问题，我开始学习编写网络爬虫。下面记录了我学习过程中遇到的网络爬虫相关知识：</p><h3 id=0x01-爬虫基本原理><a href=#0x01-爬虫基本原理 class=headerlink title="0x01 爬虫基本原理"></a>0x01 爬虫基本原理</h3><h4 id=1、爬虫概述><a href=#1、爬虫概述 class=headerlink title=1、爬虫概述></a>1、爬虫概述</h4><p><strong>1.1 网络爬虫是什么？</strong><br>网络爬虫是请求网站并提取数据的自动化程序。<br>网络爬虫有很多类型，常用的有通用网络爬虫、聚焦网络爬虫等。<br><strong>1.2 爬虫基本流程</strong></p><ol><li>发起请求：通过HTTP库向目标站点发起请求，即发送一个Request,请求可以包含额外的headers等信息，等待服务器响应。</li><li>获取响应内容：如果服务器能正常响应，会得到一个Response,Response的内容便是所要获取的页面内容，类型可能有HTML, Json字符串，二进制数据(如图片视频)等类型。</li><li>解析内容：得到的内容可能是HTML，可以用正则表达式、网页解析库进行解析。可能是Json, 可以直接转为Json对象解析，可能是二进制数据，可以做保存或者进一步的处理。</li><li>保存数据：保存形式多样，可以存为文本，也可以保存至数据库，或者保存特定格式的文件。</li></ol><p><strong>1.3 能抓取怎样的数据？</strong></p><ol><li>网页文本：如HTML文档、Json格式文本等。</li><li>图片：获取到的是二进制文件，保存为图片格式。</li><li>视频：同为二进制文件，保存为视频格式即可。</li><li>其他：只要是能请求到的，都能获取。<h4 id=2、爬虫基本流程的实现><a href=#2、爬虫基本流程的实现 class=headerlink title=2、爬虫基本流程的实现></a>2、爬虫基本流程的实现</h4></li></ol><p><strong>2.1 Request</strong></p><ol><li>请求方式：主要有GET、POST两种类型，另外还有HEAD、PUT、DELETE、OPTIONS等。</li><li>请求URL：URL全称统一资源定位符， 如一个网页文档、一张图片、一个视频等都可以用URL唯一来确定。</li><li>请求头：包含请求时的头部信息，如User-Agent、 Host、Cookies等信息。</li><li>请求体：请求时额外携带的数据如表单提交时的表单数据。</li></ol><p><strong>2.2 Response</strong></p><ol><li>响应状态：有多种响应状态，如200代表成功、301跳转、404找不到页面、502服务器错误等。</li><li>响应头：如内容类型、内容长度、服务器信息、设置Cookie等等。</li><li>响应体：最主要的部分，包含了请求资源的内容，如网页HTML、图片二进制数据等。</li></ol><p><strong>2.3.1 怎样来解析？(解析方式)</strong></p><ol><li>直接处理</li><li>Json解析</li><li>正则表达式</li><li>解析库(BeautifulSoup、PyQuery、Xpath)</li></ol><p><strong>2.3.2 怎样解决JavaScript渲染的问题？</strong></p><ol><li>分析Ajax请求</li><li>Selenium/WebDriver</li><li>Splash</li><li>PyV8、Ghost.py</li></ol><p><strong>2.4 怎样保存数据？</strong></p><ol><li>文本：纯文本、Json、Xml等。</li><li>关系型数据库：如MySQL、Oracle、SQL Server等具有结构化表结构形式存储。</li><li>非关系型数据库：如MongoDB、Redis等Key-Value形式存储。</li><li>二进制文件：如图片、视频、音频等等直接保存成特定格式即可。</li></ol><h3 id=0x02-Python爬虫常用库><a href=#0x02-Python爬虫常用库 class=headerlink title="0x02 Python爬虫常用库"></a>0x02 Python爬虫常用库</h3><h4 id=1-1-urllib><a href=#1-1-urllib class=headerlink title="1.1 urllib"></a>1.1 urllib</h4><p>Python 内置的 HTTP 请求库，也就是说不需要额外安装即可使用。</p><ul><li><strong>urllib.request</strong>：请求模块，它是最基本的 HTTP 请求模块，可以用来模拟发送请求。</li><li><strong>urllib.error</strong>：异常处理模块，如果出现请求错误，我们可以捕获这些异常，然后进行重试或其他操作以保证程序不会意外终止。</li><li><strong>urllib.parse</strong>：url解析模块，提供了许多 URL 处理方法，比如拆分、解析、合并等。</li><li><strong>urllib.robotparser</strong>：robots.txt解析模块，主要是用来识别网站的 robots.txt 文件，然后判断哪些网站可以爬，哪些网站不可以爬，用得比较少。</li></ul><p>与Python2相比的变化</p><figure class="highlight py"><table><tr><td class=code><pre><span class=line>Python</span><br><span class=line><span class=keyword>import</span> urllib2</span><br><span class=line>response = urllib.urlopen(<span class=string>'http://www.baidu.com'</span>)</span><br><span class=line></span><br><span class=line>Python3</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line>response = urllib.request.urlopen(<span class=string>'http://www.baidu.com'</span>)</span><br></pre></td></tr></table></figure><h4 id=1-2-urllib基础操作><a href=#1-2-urllib基础操作 class=headerlink title="1.2 urllib基础操作"></a>1.2 urllib基础操作</h4><p><strong>1.2.1 urlopen</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line>urllib.request.urlopen(url,data=<span class=literal>None</span>,[timeout,]*,cafile=<span class=literal>None</span>,capath=<span class=literal>None</span>,cadefault=<span class=literal>False</span>,context=<span class=literal>None</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class=code><pre><span class=line>get类型：</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line>response = urllib.request.urlopen(<span class=string>'http://httpbin.org/get'</span>)</span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>))</span><br><span class=line></span><br><span class=line>post类型：</span><br><span class=line><span class=keyword>import</span> urllib.parse</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line>data = bytes(urllib.parse.urlencode(&#123;<span class=string>'word'</span>:<span class=string>'hello'</span>&#125;),encoding=<span class=string>'utf8'</span>)</span><br><span class=line>response = urllib.request.urlopen(<span class=string>'http://httpbin.org/post'</span>,data=data)</span><br><span class=line>print(response.read())</span><br><span class=line></span><br><span class=line>超时设置：</span><br><span class=line><span class=keyword>import</span> socket</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line><span class=keyword>import</span> urllib.error</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = urllib.request.urlopen(<span class=string>'http://httpbin.org/get'</span>,timeout=<span class=number>0.1</span>)</span><br><span class=line><span class=keyword>except</span> urllib.error.URLError <span class=keyword>as</span> e:</span><br><span class=line>    <span class=keyword>if</span> isinstance(e.reason,socket.timeout):</span><br><span class=line>        print(<span class=string>'time out!'</span>)</span><br></pre></td></tr></table></figure><p><strong>1.2.2 响应</strong><br>响应类型、状态码、响应头、响应内容：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line>response = urllib.request.urlopen(<span class=string>'http://www.baidu.com'</span>)</span><br><span class=line>print(type(response)) <span class=comment>#响应类型</span></span><br><span class=line>print(response.status) <span class=comment>#状态码</span></span><br><span class=line>print(response.getheaders()) <span class=comment>#响应头</span></span><br><span class=line>print(response.getheader(<span class=string>'Server'</span>)) <span class=comment>#获取特定响应头</span></span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>) <span class=comment>#响应内容</span></span><br></pre></td></tr></table></figure><p><strong>1.2.3 Request</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line>urllib.request.Request(url, data=<span class=literal>None</span>, headers=&#123;&#125;, origin_req_host=<span class=literal>None</span>, unverifiable=<span class=literal>False</span>, method=<span class=literal>None</span>)</span><br></pre></td></tr></table></figure><blockquote><p>url 用于请求 URL，这是必传参数，其他都是可选参数。<br>data 如果要传，必须传 bytes（字节流）类型的。如果是字典，可以先用urllib.parse模块里的 urlencode()编码。<br>headers 是一个字典，它就是请求头，在构造请求时通过headers参数直接构造，也可以通过调用请求实例的 add_header()方法添加。<br>添加请求头最常用的是通过修改User-Agent来伪装浏览器，默认的 User-Agent是 Python-urllib，我们可以通过修改它来伪装浏览器。比如要伪装火狐浏览器，你可以把它设置为：<br>Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11<br>origin_req_host 指的是请求方的 host 名称或者 IP 地址。<br>unverifiable 表示这个请求是否是无法验证的，默认是 False，意思就是说用户没有足够权限来选择接收这个请求的结果。例如，我们请求一个 HTML 文档中的图片，但是我们没有自动抓取图像的权限，这时 unverifiable 的值就是 True。<br>method 是一个字符串，用来指示请求使用的方法，比如 GET、POST 和 PUT 等。</p></blockquote><figure class="highlight python"><table><tr><td class=code><pre><span class=line>get类型：</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line>request = urllib.request.Request(<span class=string>'http://httpbin.org/get'</span>)</span><br><span class=line>response = urllib.request.urlopen(request)</span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>))</span><br><span class=line></span><br><span class=line>post类型：</span><br><span class=line><span class=keyword>from</span> urllib <span class=keyword>import</span> request,parse</span><br><span class=line>url = <span class=string>'http://httpbin.org/post'</span></span><br><span class=line>headers = &#123;</span><br><span class=line>    <span class=string>'User-Agent'</span>:<span class=string>'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0'</span>,</span><br><span class=line>    <span class=string>'Host'</span>:<span class=string>'httpbin.org'</span></span><br><span class=line>&#125;</span><br><span class=line>dict = &#123;</span><br><span class=line>    <span class=string>'name'</span>:<span class=string>'qwzf'</span></span><br><span class=line>&#125;</span><br><span class=line>data = bytes(parse.urlencode(dict),encoding=<span class=string>'utf8'</span>)</span><br><span class=line>req = request.Request(url=url,data=data,headers=headers,method=<span class=string>'POST'</span>)</span><br><span class=line>response = request.urlopen(req)</span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>))</span><br><span class=line></span><br><span class=line>另一种post：</span><br><span class=line><span class=keyword>from</span> urllib <span class=keyword>import</span> request,parse</span><br><span class=line>url = <span class=string>'http://httpbin.org/post'</span></span><br><span class=line>dict = &#123;</span><br><span class=line>    <span class=string>'name'</span>:<span class=string>'qwzf'</span></span><br><span class=line>&#125;</span><br><span class=line>data = bytes(parse.urlencode(dict),encoding=<span class=string>'utf8'</span>)</span><br><span class=line>req = request.Request(url=url,data=data,method=<span class=string>'POST'</span>)</span><br><span class=line>req.add_header(<span class=string>'User-Agent'</span>,<span class=string>'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0)'</span>)</span><br><span class=line>response = request.urlopen(req)</span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>))</span><br></pre></td></tr></table></figure><h4 id=1-3-urllib高级操作><a href=#1-3-urllib高级操作 class=headerlink title="1.3 urllib高级操作"></a>1.3 urllib高级操作</h4><p><strong>1.3.1 Handler</strong><br><em>（1）代理</em><br>代理之前<br><img src=http://img-blog.csdnimg.cn/20200216023828228.jpg alt=在这里插入图片描述><br>打开控制面板-&gt;网络和 Internet-&gt;Internet选项-&gt;连接-&gt;局域网设置-&gt;代理服务器<br><img src=http://img-blog.csdnimg.cn/20200219002453503.jpg alt=在这里插入图片描述><br>看到系统代理端口为10809，然后使用代理软件开启代理服务即可。</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>from</span> urllib.error <span class=keyword>import</span> URLError</span><br><span class=line><span class=keyword>from</span> urllib.request <span class=keyword>import</span> ProxyHandler, build_opener</span><br><span class=line></span><br><span class=line>proxy_handler = ProxyHandler(&#123;</span><br><span class=line>    <span class=string>'http'</span>: <span class=string>'http://127.0.0.1:10809'</span>,</span><br><span class=line>    <span class=string>'https'</span>: <span class=string>'https://127.0.0.1:10809'</span></span><br><span class=line>&#125;)</span><br><span class=line>opener = build_opener(proxy_handler)</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = opener.open(<span class=string>'http://httpbin.org/get'</span>)</span><br><span class=line>    print(response.read().decode(<span class=string>'utf-8'</span>))</span><br><span class=line><span class=keyword>except</span> URLError <span class=keyword>as</span> e:</span><br><span class=line>    print(e.reason)</span><br></pre></td></tr></table></figure><p>代理成功<br><img src=http://img-blog.csdnimg.cn/20200216023624659.jpg alt=在这里插入图片描述><br><img src=http://img-blog.csdnimg.cn/20200216023640465.jpg alt=在这里插入图片描述><br><em>（2）Cookie</em></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=comment>#cookie变量被赋值为请求地址的Cookie</span></span><br><span class=line><span class=keyword>import</span> http.cookiejar, urllib.request</span><br><span class=line>cookie = http.cookiejar.CookieJar()                 <span class=comment>#声明CookieJar对象</span></span><br><span class=line>handler = urllib.request.HTTPCookieProcessor(cookie)<span class=comment>#构建处理Cookie</span></span><br><span class=line>opener = urllib.request.build_opener(handler)       <span class=comment>#build_opener传递Cookie</span></span><br><span class=line>response = opener.open(<span class=string>'http://www.baidu.com'</span>)</span><br><span class=line><span class=keyword>for</span> item <span class=keyword>in</span> cookie:                                 <span class=comment>#打印Cookie信息</span></span><br><span class=line>    print(item.name+<span class=string>"="</span>+item.value)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218211259509.jpg alt=在这里插入图片描述></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=comment>#将请求地址的Cookie保存为文本文件</span></span><br><span class=line><span class=keyword>import</span> http.cookiejar, urllib.request</span><br><span class=line>filename = <span class=string>"cookie.txt"</span>                             <span class=comment>#将cookie保存成文本文件</span></span><br><span class=line><span class=comment>#声明CookieJar对象的子类对象</span></span><br><span class=line><span class=comment>#cookie = http.cookiejar.MozillaCookieJar(filename)  #声明MozillaCookieJar</span></span><br><span class=line>cookie = http.cookiejar.LWPCookieJar(filename)      <span class=comment>#声明LWPCookieJar</span></span><br><span class=line>handler = urllib.request.HTTPCookieProcessor(cookie)</span><br><span class=line>opener = urllib.request.build_opener(handler)</span><br><span class=line>response = opener.open(<span class=string>'http://www.baidu.com'</span>)</span><br><span class=line>cookie.save(ignore_discard=<span class=literal>True</span>, ignore_expires=<span class=literal>True</span>) <span class=comment>#save()方法将Cookie保存成文本文件</span></span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/2020021821172584.jpg alt=在这里插入图片描述></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=comment>#读取文本文件里存放的Cookie并附着在新的请求地址</span></span><br><span class=line><span class=keyword>import</span> http.cookiejar, urllib.request</span><br><span class=line>cookie = http.cookiejar.LWPCookieJar()</span><br><span class=line>cookie.load(<span class=string>'cookie.txt'</span>, ignore_discard=<span class=literal>True</span>, ignore_expires=<span class=literal>True</span>)</span><br><span class=line>handler = urllib.request.HTTPCookieProcessor(cookie)</span><br><span class=line>opener = urllib.request.build_opener(handler)</span><br><span class=line>response = opener.open(<span class=string>'http://www.baidu.com'</span>)</span><br><span class=line>print(response.read().decode(<span class=string>'utf-8'</span>))</span><br></pre></td></tr></table></figure><p><strong>1.3.2 异常处理</strong><br>urllib.error异常类型:</p><ul><li>URLError 属性：reason</li><li>HTTPError 属性：code、reason、headers</li><li>ContentTooShortError(msg,content)</li></ul><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>from</span> urllib <span class=keyword>import</span> request, error</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = request.urlopen(<span class=string>'http://www.httpbin.org/qwzf'</span>)</span><br><span class=line><span class=keyword>except</span> error.HTTPError <span class=keyword>as</span> e:</span><br><span class=line>    print(e.reason, e.code, e.headers, sep=<span class=string>'\n'</span>)</span><br><span class=line><span class=keyword>except</span> error.URLError <span class=keyword>as</span> e:</span><br><span class=line>    print(e.reason)</span><br><span class=line><span class=keyword>else</span>:</span><br><span class=line>    print(<span class=string>'Request Successfully'</span>)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218213959656.jpg alt=在这里插入图片描述></p><figure class="highlight py"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> socket</span><br><span class=line><span class=keyword>import</span> urllib.request</span><br><span class=line><span class=keyword>import</span> urllib.error</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = urllib.request.urlopen(<span class=string>'https://www.baidu.com'</span>, timeout=<span class=number>0.01</span>)</span><br><span class=line><span class=keyword>except</span> urllib.error.URLError <span class=keyword>as</span> e:</span><br><span class=line>    print(type(e.reason))</span><br><span class=line>    <span class=keyword>if</span> isinstance(e.reason, socket.timeout):</span><br><span class=line>        print(<span class=string>'TIME OUT'</span>)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218214334969.png alt=在这里插入图片描述><br><strong>1.3.3 URL解析</strong><br><em>（1）urlparse</em><br>分隔url</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line>urllib.parse.urlparse(urlstring, scheme=<span class=string>''</span>, allow_fragments=<span class=literal>True</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=comment>#分隔url</span></span><br><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urlparse</span><br><span class=line>result = urlparse(<span class=string>'http://www.baidu.com/index.html;user?id=5#comment'</span>)</span><br><span class=line>print(type(result), result)</span><br><span class=line>运行结果：</span><br><span class=line>&lt;<span class=class><span class=keyword>class</span> '<span class=title>urllib</span>.<span class=title>parse</span>.<span class=title>ParseResult</span>'&gt; <span class=title>ParseResult</span><span class=params>(scheme=<span class=string>'http'</span>, netloc=<span class=string>'www.baidu.com'</span>, path=<span class=string>'/index.html'</span>, params=<span class=string>'user'</span>, query=<span class=string>'id=5'</span>, fragment=<span class=string>'comment'</span>)</span></span></span><br><span class=line><span class=class></span></span><br><span class=line><span class=class></span></span><br><span class=line><span class=class>#指定以<span class=title>https</span>解析</span></span><br><span class=line><span class=class><span class=title>from</span> <span class=title>urllib</span>.<span class=title>parse</span> <span class=title>import</span> <span class=title>urlparse</span></span></span><br><span class=line>result = urlparse('www.baidu.com/index.html;user?id=5#comment', scheme='https')</span><br><span class=line>print(result)</span><br><span class=line></span><br><span class=line><span class=comment>#scheme作为默认，如果url指定解析方式，则scheme不生效</span></span><br><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urlparse</span><br><span class=line>result = urlparse(<span class=string>'http://www.baidu.com/index.html;user?id=5#comment'</span>, scheme=<span class=string>'https'</span>)</span><br><span class=line>print(result)</span><br><span class=line></span><br><span class=line></span><br><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urlparse</span><br><span class=line>result1 = urlparse(<span class=string>'http://www.baidu.com/index.html;user?id=5#comment'</span>, allow_fragments=<span class=literal>False</span>)</span><br><span class=line>result2 = urlparse(<span class=string>'http://www.baidu.com/index.html#comment'</span>, allow_fragments=<span class=literal>False</span>)</span><br><span class=line>print(result1,<span class=string>'\n'</span>,result2)</span><br><span class=line>运行结果：</span><br><span class=line>ParseResult(scheme=<span class=string>'http'</span>, netloc=<span class=string>'www.baidu.com'</span>, path=<span class=string>'/index.html'</span>, params=<span class=string>'user'</span>, query=<span class=string>'id=5#comment'</span>, fragment=<span class=string>''</span>) </span><br><span class=line>ParseResult(scheme=<span class=string>'http'</span>, netloc=<span class=string>'www.baidu.com'</span>, path=<span class=string>'/index.html#comment'</span>, params=<span class=string>''</span>, query=<span class=string>''</span>, fragment=<span class=string>''</span>)</span><br></pre></td></tr></table></figure><p><em>（2）urlunparse</em><br>拼接url</p><figure class=highlight><table><tr><td class=code><pre><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urlunparse</span><br><span class=line>data = [<span class=string>'http'</span>, <span class=string>'www.baidu.com'</span>, <span class=string>'index.html'</span>, <span class=string>'user'</span>, <span class=string>'a=6'</span>, <span class=string>'comment'</span>]</span><br><span class=line>print(urlunparse(data))</span><br><span class=line>运行结果：</span><br><span class=line>http://www.baidu.com/index.html;user?a=6#comment</span><br></pre></td></tr></table></figure><p><em>（3）urljoin</em><br>拼接url</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urljoin</span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com'</span>, <span class=string>'FAQ.html'</span>))</span><br><span class=line><span class=comment>#后边url字段覆盖前面的url字段。</span></span><br><span class=line><span class=comment>#前面有字段不存在，则补充。存在则覆盖</span></span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com'</span>, <span class=string>'https://cuiqingcai.com/FAQ.html'</span>))</span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com/about.html'</span>, <span class=string>'https://cuiqingcai.com/FAQ.html'</span>))</span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com/about.html'</span>, <span class=string>'https://cuiqingcai.com/FAQ.html?question=2'</span>))</span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com?wd=abc'</span>, <span class=string>'https://cuiqingcai.com/index.php'</span>))</span><br><span class=line>print(urljoin(<span class=string>'http://www.baidu.com'</span>, <span class=string>'?category=2#comment'</span>))</span><br><span class=line>print(urljoin(<span class=string>'www.baidu.com'</span>, <span class=string>'?category=2#comment'</span>))</span><br><span class=line>print(urljoin(<span class=string>'www.baidu.com#comment'</span>, <span class=string>'?category=2'</span>))</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218220551494.jpg alt=在这里插入图片描述><br><em>（4）urlencode</em><br>把字典对象转换成get请求参数</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>from</span> urllib.parse <span class=keyword>import</span> urlencode</span><br><span class=line>params = &#123;</span><br><span class=line>    <span class=string>'name'</span>: <span class=string>'qwzf'</span>,</span><br><span class=line>    <span class=string>'age'</span>: <span class=number>20</span></span><br><span class=line>&#125;</span><br><span class=line>base_url = <span class=string>'http://www.baidu.com?'</span></span><br><span class=line>url = base_url + urlencode(params)</span><br><span class=line>print(url)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218220836104.jpg alt=在这里插入图片描述></p><h4 id=2-1-requests><a href=#2-1-requests class=headerlink title="2.1 requests"></a>2.1 requests</h4><p>基于urllib，采用Apache2 Licensed开源协议的HTTP库。<br>简单来说，requests是Python实现的简单易用的HTTP库。<br><strong>2.1.1 安装</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line>pip3:</span><br><span class=line>pip3 install requests</span><br><span class=line></span><br><span class=line>pip:</span><br><span class=line>pip install requests</span><br><span class=line><span class=comment>#指定python版本安装：python3 -m pip install requests</span></span><br></pre></td></tr></table></figure><h4 id=2-2-requests基础操作><a href=#2-2-requests基础操作 class=headerlink title="2.2 requests基础操作"></a>2.2 requests基础操作</h4><h5 id=2-2-1-各种请求方式><a href=#2-2-1-各种请求方式 class=headerlink title="2.2.1 各种请求方式"></a>2.2.1 各种请求方式</h5><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>requests.post(<span class=string>'http://httpbin.org/post'</span>)</span><br><span class=line>requests.put(<span class=string>'http://httpbin.org/put'</span>)</span><br><span class=line>requests.delete(<span class=string>'http://httpbin.org/delete'</span>)</span><br><span class=line>requests.head(<span class=string>'http://httpbin.org/get'</span>)</span><br><span class=line>requests.options(<span class=string>'http://httpbin.org/get'</span>)</span><br></pre></td></tr></table></figure><h5 id=2-2-2-请求><a href=#2-2-2-请求 class=headerlink title="2.2.2 请求"></a>2.2.2 请求</h5><h6 id=2-2-2-1-基本GET请求><a href=#2-2-2-1-基本GET请求 class=headerlink title="2.2.2.1 基本GET请求"></a>2.2.2.1 基本GET请求</h6><p><strong>（1）基本写法</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'http://httpbin.org/get'</span>)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><strong>（2）带参数GET请求</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>data = &#123;</span><br><span class=line>    <span class=string>'name'</span>: <span class=string>'qwzf'</span>,</span><br><span class=line>    <span class=string>'age'</span>: <span class=number>20</span></span><br><span class=line>&#125;</span><br><span class=line>response = requests.get(<span class=string>"http://httpbin.org/get"</span>, params=data)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218233651629.jpg alt=在这里插入图片描述><br><strong>（3）解析json</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>import</span> json</span><br><span class=line>response = requests.get(<span class=string>"http://httpbin.org/get"</span>)</span><br><span class=line>print(response.text)</span><br><span class=line>print(response.json())</span><br><span class=line>print(json.loads(response.text))</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218234234841.jpg alt=在这里插入图片描述><br><strong>（4）获取二进制数据</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>"https://github.com/favicon.ico"</span>)</span><br><span class=line>print(type(response.text), type(response.content))</span><br><span class=line>print(response.text)</span><br><span class=line>print(response.content) <span class=comment>#获取二进制内容</span></span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200218234601749.jpg alt=在这里插入图片描述><br>将二进制数据写入二进制文件(如：图片、视频)：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>"https://github.com/favicon.ico"</span>)</span><br><span class=line><span class=keyword>with</span> open(<span class=string>'favicon.ico'</span>, <span class=string>'wb'</span>) <span class=keyword>as</span> f:</span><br><span class=line>    f.write(response.content)</span><br><span class=line>    f.close()</span><br></pre></td></tr></table></figure><p><strong>（5）添加headers</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>headers = &#123;</span><br><span class=line>    <span class=string>'User-Agent'</span>: <span class=string>'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36'</span></span><br><span class=line>&#125;</span><br><span class=line>response = requests.get(<span class=string>"https://www.zhihu.com/explore"</span>, headers=headers)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><h6 id=2-2-2-2-基本POST请求><a href=#2-2-2-2-基本POST请求 class=headerlink title="2.2.2.2 基本POST请求"></a>2.2.2.2 基本POST请求</h6><p><strong>（1）带参数POST请求</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>data = &#123;<span class=string>'name'</span>: <span class=string>'qwzf'</span>, <span class=string>'age'</span>: <span class=string>'20'</span>&#125;</span><br><span class=line>response = requests.post(<span class=string>"http://httpbin.org/post"</span>, data=data)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><strong>（2）带参数、添加headers和解析json的POST请求</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>data = &#123;<span class=string>'name'</span>: <span class=string>'qwzf'</span>, <span class=string>'age'</span>: <span class=string>'20'</span>&#125;</span><br><span class=line>headers = &#123;</span><br><span class=line>    <span class=string>'User-Agent'</span>: <span class=string>'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36'</span></span><br><span class=line>&#125;</span><br><span class=line>response = requests.post(<span class=string>"http://httpbin.org/post"</span>, data=data, headers=headers)</span><br><span class=line>print(response.json())</span><br></pre></td></tr></table></figure><h5 id=2-2-3-响应><a href=#2-2-3-响应 class=headerlink title="2.2.3 响应"></a>2.2.3 响应</h5><h6 id=2-2-3-1-reponse属性><a href=#2-2-3-1-reponse属性 class=headerlink title="2.2.3.1 reponse属性"></a>2.2.3.1 reponse属性</h6><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'http://www.jianshu.com'</span>)</span><br><span class=line>print(type(response.status_code), response.status_code) <span class=comment>#状态码</span></span><br><span class=line>print(type(response.headers), response.headers) <span class=comment>#响应头</span></span><br><span class=line>print(type(response.cookies), response.cookies) <span class=comment>#Cookie</span></span><br><span class=line>print(type(response.url), response.url) <span class=comment>#url</span></span><br><span class=line>print(type(response.history), response.history) <span class=comment>#访问的历史记录</span></span><br></pre></td></tr></table></figure><h6 id=2-2-3-2-状态码判断><a href=#2-2-3-2-状态码判断 class=headerlink title="2.2.3.2 状态码判断"></a>2.2.3.2 状态码判断</h6><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=comment>#判断Not Found</span></span><br><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'http://www.aliyun.com/qwzf.html'</span>)</span><br><span class=line><span class=keyword>if</span> response.status_code == requests.codes.not_found:</span><br><span class=line>    print(<span class=string>'404 Not Found'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#判断Successfully</span></span><br><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'http://www.aliyun.com'</span>)</span><br><span class=line><span class=keyword>if</span> response.status_code == <span class=number>200</span>:</span><br><span class=line>    print(<span class=string>'Request Successfully'</span>)</span><br></pre></td></tr></table></figure><h4 id=2-3-requests高级操作><a href=#2-3-requests高级操作 class=headerlink title="2.3 requests高级操作"></a>2.3 requests高级操作</h4><p><strong>2.3.1 文件上传</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>files = &#123;<span class=string>'file'</span>: open(<span class=string>'favicon.ico'</span>, <span class=string>'rb'</span>)&#125;</span><br><span class=line>response = requests.post(<span class=string>"http://httpbin.org/post"</span>, files=files)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219001321841.jpg alt=在这里插入图片描述><br><strong>2.3.2 获取cookie</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>"http://www.baidu.com"</span>)</span><br><span class=line>print(response.cookies)</span><br><span class=line><span class=keyword>for</span> key, value <span class=keyword>in</span> response.cookies.items():</span><br><span class=line>    print(key + <span class=string>'='</span> + value)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219001422156.jpg alt=在这里插入图片描述><br><strong>2.3.3 会话维持</strong><br><em>模拟登陆</em></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>requests.get(<span class=string>'http://httpbin.org/cookies/set/number/123456789'</span>)</span><br><span class=line>response = requests.get(<span class=string>'http://httpbin.org/cookies'</span>)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219224354305.jpg alt=在这里插入图片描述><br>实现在同一个浏览器实现setcookie和getcookie：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>s = requests.Session() <span class=comment>#维持会话信息，使用Session对象发起两次请求</span></span><br><span class=line>s.get(<span class=string>'http://httpbin.org/cookies/set/number/123456789'</span>)</span><br><span class=line>response = s.get(<span class=string>'http://httpbin.org/cookies'</span>)</span><br><span class=line>print(response.text)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219224708469.jpg alt=在这里插入图片描述><br><strong>2.3.4 证书验证</strong><br>用于https解析url中的证书问题</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'https://www.12306.cn'</span>) <span class=comment>#https://www.12306.cn证书又正常了，暂时没找到证书失效的网站进行验证</span></span><br><span class=line>print(response.status_code)</span><br></pre></td></tr></table></figure><p>如果证书失效，使用下面代码，会返回状态码：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>from</span> requests.packages <span class=keyword>import</span> urllib3</span><br><span class=line>urllib3.disable_warnings() <span class=comment>#消除警告信息</span></span><br><span class=line>response = requests.get(<span class=string>'https://www.12306.cn'</span>, verify=<span class=literal>False</span>)</span><br><span class=line>print(response.status_code)</span><br></pre></td></tr></table></figure><p>手动指定证书：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>response = requests.get(<span class=string>'https://www.12306.cn'</span>, cert=(<span class=string>'/path/server.crt'</span>, <span class=string>'/path/key'</span>))</span><br><span class=line>print(response.status_code)</span><br></pre></td></tr></table></figure><p><strong>2.3.5 代理设置</strong><br>系统代理开启，参考urllib代理设置。</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>proxies = &#123;</span><br><span class=line>  <span class=string>"http"</span>: <span class=string>"http://127.0.0.1:10809"</span>,</span><br><span class=line>  <span class=string>"https"</span>: <span class=string>"https://127.0.0.1:10809"</span>,</span><br><span class=line>&#125;</span><br><span class=line><span class=string>'''proxies = &#123;#如果代理有用户名和密码</span></span><br><span class=line><span class=string>    "http": "http://user:password@127.0.0.1:10809/",</span></span><br><span class=line><span class=string>    "https": "https://user:password@127.0.0.1:10809/",</span></span><br><span class=line><span class=string>&#125;'''</span></span><br><span class=line>response = requests.get(<span class=string>"https://www.taobao.com"</span>, proxies=proxies)</span><br><span class=line>print(response.status_code)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219233145482.jpg alt=在这里插入图片描述><br>如果代理不是http和https代理，如socks代理：<br><code>pip3 install &#39;requests[socks]&#39;</code><br>设置开启socks代理，然后运行下面代码：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>proxies = &#123;</span><br><span class=line>    <span class=string>'http'</span>: <span class=string>'socks5://127.0.0.1:10809'</span>,</span><br><span class=line>    <span class=string>'https'</span>: <span class=string>'socks5://127.0.0.1:10809'</span></span><br><span class=line>&#125;</span><br><span class=line>response = requests.get(<span class=string>"https://www.taobao.com"</span>, proxies=proxies)</span><br><span class=line>print(response.status_code)</span><br></pre></td></tr></table></figure><p><strong>2.3.6 超时设置</strong></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>from</span> requests.exceptions <span class=keyword>import</span> ReadTimeout</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = requests.get(<span class=string>"http://httpbin.org/get"</span>, timeout=<span class=number>0.5</span>)</span><br><span class=line>    print(response.status_code)</span><br><span class=line><span class=keyword>except</span> ReadTimeout:<span class=comment>#捕获异常</span></span><br><span class=line>    print(<span class=string>'Time out！'</span>)</span><br></pre></td></tr></table></figure><p><img src=http://img-blog.csdnimg.cn/20200219234029252.jpg alt=在这里插入图片描述><br><strong>2.3.7 认证设置</strong><br>登录验证</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>from</span> requests.auth <span class=keyword>import</span> HTTPBasicAuth</span><br><span class=line>r = requests.get(<span class=string>'http://example.com/'</span>, auth=HTTPBasicAuth(<span class=string>'qwzf'</span>, <span class=string>'123'</span>))</span><br><span class=line>print(r.status_code)</span><br></pre></td></tr></table></figure><p>使用字典的方式：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line>r = requests.get(<span class=string>'http://example.com/'</span>, auth=(<span class=string>'user'</span>, <span class=string>'123'</span>))</span><br><span class=line>print(r.status_code)</span><br></pre></td></tr></table></figure><p><strong>2.3.8 异常处理</strong><br>可以参考<a href=https://www.cnblogs.com/paulwinflo/p/11956668.html target=_blank rel=noopener>request.exceptions异常处理</a></p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>from</span> requests.exceptions <span class=keyword>import</span> ReadTimeout, ConnectionError, RequestException</span><br><span class=line><span class=keyword>try</span>:</span><br><span class=line>    response = requests.get(<span class=string>"http://httpbin.org/get"</span>, timeout = <span class=number>0.5</span>)</span><br><span class=line>    print(response.status_code)</span><br><span class=line><span class=keyword>except</span> ReadTimeout: <span class=comment>#捕获超时异常</span></span><br><span class=line>    print(<span class=string>'Timeout'</span>)</span><br><span class=line><span class=keyword>except</span> ConnectionError: <span class=comment>#捕获连接异常</span></span><br><span class=line>    print(<span class=string>'Connection error'</span>)</span><br><span class=line><span class=keyword>except</span> RequestException: <span class=comment>#一个父类异常</span></span><br><span class=line>    print(<span class=string>'Error'</span>)</span><br></pre></td></tr></table></figure><h3 id=0x03-后记><a href=#0x03-后记 class=headerlink title="0x03 后记"></a>0x03 后记</h3><p>本篇主要记录了爬虫的基本原理、urllib库和requests库的常见操作的学习与练习。Python网络爬虫学习持续更新中。。。。。。</p><div class=post-copyright><div class=content><p>最后更新： 2020年02月20日 00:34</p><p>原始链接： <a class=post-url href="/2020/02/20/Python学习-网络爬虫(一)/" title=Python学习-网络爬虫(一)>https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/</a></p><footer><a href=https://qwzf.github.io><img src=/images/logo.png alt=qwzf> qwzf</a></footer></div></div><div class=page-reward><a id=rewardBtn href=javascript:;>赏</a></div><div id=reward class="post-modal reward-lay"><a class=close href=javascript:; id=reward-close>×</a> <span class=reward-title><i class="icon icon-quote-left"></i> 请我吃糖~ <i class="icon icon-quote-right"></i></span><div class=reward-content><div class=reward-code><img id=rewardCode src=/images/wechat_code.jpg alt=打赏二维码></div><div class=reward-select><label class="reward-select-item checked" data-id=wechat data-wechat=/images/wechat_code.jpg><img class=reward-select-item-wechat src=/images/wechat.png alt=微信></label> <label class=reward-select-item data-id=alipay data-alipay=/images/alipay_code.jpg><img class=reward-select-item-alipay src=/images/alipay.png alt=支付宝></label></div></div></div></div><footer class=article-footer><div class=post-share><a href=javascript:; id=share-sub class=post-share-fab><i class="fa fa-share-alt"></i></a><div class=post-share-list id=share-list><ul class=share-icons><li><a class="weibo share-sns" target=_blank href="http://service.weibo.com/share/share.php?url=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/&title=《Python学习-网络爬虫(一)》 — qwzf&pic=http://img-blog.csdnimg.cn/20200121215135985.jpg" data-title=微博><i class="fa fa-weibo"></i></a></li><li><a class="weixin share-sns" id=wxFab href=javascript:; data-title=微信><i class="fa fa-weixin"></i></a></li><li><a class="qq share-sns" target=_blank href="http://connect.qq.com/widget/shareqq/index.html?url=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/&title=《Python学习-网络爬虫(一)》 — qwzf&source=" data-title=QQ><i class="fa fa-qq"></i></a></li><li><a class="facebook share-sns" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/" data-title=Facebook><i class="fa fa-facebook"></i></a></li><li><a class="twitter share-sns" target=_blank href="https://twitter.com/intent/tweet?text=《Python学习-网络爬虫(一)》 — qwzf&url=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/&via=https://qwzf.github.io" data-title=Twitter><i class="fa fa-twitter"></i></a></li><li><a class="google share-sns" target=_blank href="https://plus.google.com/share?url=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/" data-title=Google+><i class="fa fa-google-plus"></i></a></li></ul></div></div><div class="post-modal wx-share" id=wxShare><a class=close href=javascript:; id=wxShare-close>×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=https://qwzf.github.io/2020/02/20/Python学习-网络爬虫(一)/" alt=微信分享二维码></div><div class=mask></div><ul class=article-footer-menu><li class=article-footer-tags><i class="fa fa-tags"></i> <a href="/tags/Python/" class=color2>Python</a> <a href="/tags/网络爬虫/" class=color5>网络爬虫</a> <a href="/tags/urllib库/" class=color3>urllib库</a> <a href="/tags/requests库/" class=color5>requests库</a></li></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id=post-toc><nav class=post-toc-wrap><ol class=post-toc><li class="post-toc-item post-toc-level-3"><a class=post-toc-link href=#0x00-前言><span class=post-toc-text>0x00 前言</span></a></li><li class="post-toc-item post-toc-level-3"><a class=post-toc-link href=#0x01-爬虫基本原理><span class=post-toc-text>0x01 爬虫基本原理</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#1、爬虫概述><span class=post-toc-text>1、爬虫概述</span></a></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#2、爬虫基本流程的实现><span class=post-toc-text>2、爬虫基本流程的实现</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class=post-toc-link href=#0x02-Python爬虫常用库><span class=post-toc-text>0x02 Python爬虫常用库</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#1-1-urllib><span class=post-toc-text>1.1 urllib</span></a></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#1-2-urllib基础操作><span class=post-toc-text>1.2 urllib基础操作</span></a></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#1-3-urllib高级操作><span class=post-toc-text>1.3 urllib高级操作</span></a></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#2-1-requests><span class=post-toc-text>2.1 requests</span></a></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#2-2-requests基础操作><span class=post-toc-text>2.2 requests基础操作</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-5"><a class=post-toc-link href=#2-2-1-各种请求方式><span class=post-toc-text>2.2.1 各种请求方式</span></a></li><li class="post-toc-item post-toc-level-5"><a class=post-toc-link href=#2-2-2-请求><span class=post-toc-text>2.2.2 请求</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-6"><a class=post-toc-link href=#2-2-2-1-基本GET请求><span class=post-toc-text>2.2.2.1 基本GET请求</span></a></li><li class="post-toc-item post-toc-level-6"><a class=post-toc-link href=#2-2-2-2-基本POST请求><span class=post-toc-text>2.2.2.2 基本POST请求</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class=post-toc-link href=#2-2-3-响应><span class=post-toc-text>2.2.3 响应</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-6"><a class=post-toc-link href=#2-2-3-1-reponse属性><span class=post-toc-text>2.2.3.1 reponse属性</span></a></li><li class="post-toc-item post-toc-level-6"><a class=post-toc-link href=#2-2-3-2-状态码判断><span class=post-toc-text>2.2.3.2 状态码判断</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-4"><a class=post-toc-link href=#2-3-requests高级操作><span class=post-toc-text>2.3 requests高级操作</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class=post-toc-link href=#0x03-后记><span class=post-toc-text>0x03 后记</span></a></li></ol></nav></aside><nav id=article-nav><a href="/2020/03/04/从一些常见场景到CSRF漏洞利用/" id=article-nav-newer class=article-nav-link-wrap><span class=article-nav-title><i class="fa fa-hand-o-left" aria-hidden=true></i> 从一些常见场景到CSRF漏洞利用</span></a> <a href="/2020/02/14/Docker 学习笔记(一)/" id=article-nav-older class=article-nav-link-wrap><span class=article-nav-title>Docker 学习笔记(一)</span> <i class="fa fa-hand-o-right" aria-hidden=true></i></a></nav><section id=comments class=comments><style>
            margin-top:40px;padding:1px 15px 1px 10px;background-color:rgba(255,255,255,0.7);box-shadow: 0px 0px 20px #bbbbbb;border-radius: 5px;
            .comments{margin:30px;padding:10px;background:#fff}
            @media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#fff}}
        </style><div id=vcomment class=comment></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script src=/js/Valine.min.js></script><script>
   var notify = 'true' == true ? true : false;
   var verify = 'true' == true ? true : false;
    window.onload = function() {
        new Valine({
            av: AV,
            el: '.comment',
            emoticon_url: 'https://cloud.panjunwen.com/alu',
            emoticon_list: ["吐.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png"],
            notify: notify,
            verify: verify,
            app_id: "5cXOwuHg0Yrf8teE1lzRCjHi-gzGzoHsz",
            app_key: "ToPzd33a36q3VXf83omuntVV",
            lang:"zh-cn",
            placeholder: "说点什么吧！",
            avatar:"mp",
            pageSize: "10",
            highlight:"true",
            recordIP:"true"
        });
    }
</script></section></section></div><footer id=footer><div class=outer><div id=footer-info class=inner><p><span id=busuanzi_container_site_uv style=display:none>总访客数：<span id=busuanzi_value_site_uv></span></span> <span id=busuanzi_container_site_pv style=display:none>总访问量：<span id=busuanzi_value_site_pv></span></span></p><p><a href="https://qwzf.github.io/" target=_blank>Q子枫</a> <a href=https://blog.csdn.net/qq_43625917 target=_blank>我的CSDN</a> &copy; 2020 qwzf<br></p></div></div></footer><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=//cdn.bootcss.com/jquery/3.2.1/jquery.min.js></script><script>
  var mihoConfig = {
      root: "https://qwzf.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script><div class=sidebar><div id=sidebar-search title=Search><i class="fa fa-search"></i></div><div id=sidebar-category title=Categories><i class="fa fa-book"></i></div><div id=sidebar-tag title=Tags><i class="fa fa-tags"></i></div><div id=sidebar-top><span class=sidebar-top-icon><i class="fa fa-angle-up"></i></span></div></div><div class=sidebar-menu-box id=sidebar-menu-box><div class=sidebar-menu-box-container><div id=sidebar-menu-box-categories><a class=category-link href="/categories/AWD/">AWD</a><a class=category-link href="/categories/CTF/">CTF</a><a class=category-link href="/categories/Databases/">Databases</a><a class=category-link href="/categories/Docker/">Docker</a><a class=category-link href="/categories/First/">First</a><a class=category-link href="/categories/HTTP/">HTTP</a><a class=category-link href="/categories/Linux/">Linux</a><a class=category-link href="/categories/Python/">Python</a><a class=category-link href="/categories/Web/">Web</a></div><div id=sidebar-menu-box-tags><a href="/tags/AWD/" style="font-size: 10px;">AWD</a> <a href="/tags/BUG/" style="font-size: 20px;">BUG</a> <a href="/tags/BUGKU/" style="font-size: 10px;">BUGKU</a> <a href="/tags/CSRF/" style="font-size: 10px;">CSRF</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CTF/" style="font-size: 18.57px;">CTF</a> <a href="/tags/Crypto/" style="font-size: 14.29px;">Crypto</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Databases/" style="font-size: 10px;">Databases</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GET型双查询注入/" style="font-size: 10px;">GET型双查询注入</a> <a href="/tags/GET型盲注/" style="font-size: 10px;">GET型盲注</a> <a href="/tags/GET型错误型注入/" style="font-size: 10px;">GET型错误型注入</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.43px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 11.43px;">Hexo</a> <a href="/tags/ISCC/" style="font-size: 11.43px;">ISCC</a> <a href="/tags/LAMP与LNMP/" style="font-size: 10px;">LAMP与LNMP</a> <a href="/tags/Linux/" style="font-size: 11.43px;">Linux</a> <a href="/tags/MISC/" style="font-size: 17.14px;">MISC</a> <a href="/tags/MySQL/" style="font-size: 12.86px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 15.71px;">PHP</a> <a href="/tags/POST型报错注入/" style="font-size: 10px;">POST型报错注入</a> <a href="/tags/POST型盲注/" style="font-size: 10px;">POST型盲注</a> <a href="/tags/POST型联合查询注入/" style="font-size: 10px;">POST型联合查询注入</a> <a href="/tags/Python/" style="font-size: 15.71px;">Python</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/Reverse/" style="font-size: 10px;">Reverse</a> <a href="/tags/SQL/" style="font-size: 17.14px;">SQL</a> <a href="/tags/SQL注入/" style="font-size: 10px;">SQL注入</a> <a href="/tags/Web/" style="font-size: 18.57px;">Web</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/XML注入/" style="font-size: 10px;">XML注入</a> <a href="/tags/XSS/" style="font-size: 11.43px;">XSS</a> <a href="/tags/XXE漏洞/" style="font-size: 10px;">XXE漏洞</a> <a href="/tags/Xpath注入/" style="font-size: 10px;">Xpath注入</a> <a href="/tags/ZIP/" style="font-size: 10px;">ZIP</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/i春秋/" style="font-size: 10px;">i春秋</a> <a href="/tags/order-by排序注入/" style="font-size: 10px;">order by排序注入</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/phpstudy/" style="font-size: 10px;">phpstudy</a> <a href="/tags/requests库/" style="font-size: 10px;">requests库</a> <a href="/tags/urllib库/" style="font-size: 10px;">urllib库</a> <a href="/tags/二次注入/" style="font-size: 10px;">二次注入</a> <a href="/tags/任意文件读取与下载漏洞/" style="font-size: 10px;">任意文件读取与下载漏洞</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a> <a href="/tags/前端/" style="font-size: 12.86px;">前端</a> <a href="/tags/协议层/" style="font-size: 10px;">协议层</a> <a href="/tags/南邮/" style="font-size: 11.43px;">南邮</a> <a href="/tags/反序列化漏洞/" style="font-size: 10px;">反序列化漏洞</a> <a href="/tags/命令执行与代码执行/" style="font-size: 10px;">命令执行与代码执行</a> <a href="/tags/基本语法/" style="font-size: 10px;">基本语法</a> <a href="/tags/堆叠注入/" style="font-size: 10px;">堆叠注入</a> <a href="/tags/字符串及正则表达式/" style="font-size: 10px;">字符串及正则表达式</a> <a href="/tags/安恒/" style="font-size: 10px;">安恒</a> <a href="/tags/容器/" style="font-size: 10px;">容器</a> <a href="/tags/宽字节注入/" style="font-size: 10px;">宽字节注入</a> <a href="/tags/导出文件注入/" style="font-size: 10px;">导出文件注入</a> <a href="/tags/序列的应用/" style="font-size: 10px;">序列的应用</a> <a href="/tags/开发/" style="font-size: 14.29px;">开发</a> <a href="/tags/开发工具/" style="font-size: 10px;">开发工具</a> <a href="/tags/异常处理及程序调试/" style="font-size: 10px;">异常处理及程序调试</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/报错注入/" style="font-size: 10px;">报错注入</a> <a href="/tags/操作数据库/" style="font-size: 10px;">操作数据库</a> <a href="/tags/攻防世界/" style="font-size: 11.43px;">攻防世界</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文件上传漏洞/" style="font-size: 11.43px;">文件上传漏洞</a> <a href="/tags/文件包含漏洞/" style="font-size: 10px;">文件包含漏洞</a> <a href="/tags/文件及目录操作/" style="font-size: 10px;">文件及目录操作</a> <a href="/tags/期末复习/" style="font-size: 10px;">期末复习</a> <a href="/tags/模块/" style="font-size: 10px;">模块</a> <a href="/tags/河南高校网安联赛/" style="font-size: 10px;">河南高校网安联赛</a> <a href="/tags/流程控制/" style="font-size: 10px;">流程控制</a> <a href="/tags/源码泄露/" style="font-size: 10px;">源码泄露</a> <a href="/tags/盲注/" style="font-size: 10px;">盲注</a> <a href="/tags/移位编码/" style="font-size: 10px;">移位编码</a> <a href="/tags/简单加密/" style="font-size: 10px;">简单加密</a> <a href="/tags/线下/" style="font-size: 11.43px;">线下</a> <a href="/tags/网络爬虫/" style="font-size: 10px;">网络爬虫</a> <a href="/tags/过滤敏感关键字与WAF绕过/" style="font-size: 10px;">过滤敏感关键字与WAF绕过</a> <a href="/tags/镜像/" style="font-size: 10px;">镜像</a> <a href="/tags/问题整理/" style="font-size: 10px;">问题整理</a> <a href="/tags/隐写/" style="font-size: 11.43px;">隐写</a></div></div><a href=javascript:; class=sidebar-menu-box-close>&times;</a></div><div class=mobile-header-menu-nav id=mobile-header-menu-nav><div class=mobile-header-menu-container><span class=title>Menus</span><ul class=mobile-header-menu-navbar><li><a href="/"><i class="fa fa-home"></i><span>Home</span></a></li><li><a target=_blank href=/archives><i class="fa fa-archive"></i><span>Archives</span></a></li><li><a href=/about><i class="fa fa-user"></i><span>About</span></a></li></ul></div><div class=mobile-header-tag-container><span class=title>Tags</span><div id=mobile-header-container-tags><a href="/tags/AWD/" style="font-size: 10px;">AWD</a> <a href="/tags/BUG/" style="font-size: 20px;">BUG</a> <a href="/tags/BUGKU/" style="font-size: 10px;">BUGKU</a> <a href="/tags/CSRF/" style="font-size: 10px;">CSRF</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CTF/" style="font-size: 18.57px;">CTF</a> <a href="/tags/Crypto/" style="font-size: 14.29px;">Crypto</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Databases/" style="font-size: 10px;">Databases</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GET型双查询注入/" style="font-size: 10px;">GET型双查询注入</a> <a href="/tags/GET型盲注/" style="font-size: 10px;">GET型盲注</a> <a href="/tags/GET型错误型注入/" style="font-size: 10px;">GET型错误型注入</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.43px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 11.43px;">Hexo</a> <a href="/tags/ISCC/" style="font-size: 11.43px;">ISCC</a> <a href="/tags/LAMP与LNMP/" style="font-size: 10px;">LAMP与LNMP</a> <a href="/tags/Linux/" style="font-size: 11.43px;">Linux</a> <a href="/tags/MISC/" style="font-size: 17.14px;">MISC</a> <a href="/tags/MySQL/" style="font-size: 12.86px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 15.71px;">PHP</a> <a href="/tags/POST型报错注入/" style="font-size: 10px;">POST型报错注入</a> <a href="/tags/POST型盲注/" style="font-size: 10px;">POST型盲注</a> <a href="/tags/POST型联合查询注入/" style="font-size: 10px;">POST型联合查询注入</a> <a href="/tags/Python/" style="font-size: 15.71px;">Python</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/Reverse/" style="font-size: 10px;">Reverse</a> <a href="/tags/SQL/" style="font-size: 17.14px;">SQL</a> <a href="/tags/SQL注入/" style="font-size: 10px;">SQL注入</a> <a href="/tags/Web/" style="font-size: 18.57px;">Web</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/XML注入/" style="font-size: 10px;">XML注入</a> <a href="/tags/XSS/" style="font-size: 11.43px;">XSS</a> <a href="/tags/XXE漏洞/" style="font-size: 10px;">XXE漏洞</a> <a href="/tags/Xpath注入/" style="font-size: 10px;">Xpath注入</a> <a href="/tags/ZIP/" style="font-size: 10px;">ZIP</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/i春秋/" style="font-size: 10px;">i春秋</a> <a href="/tags/order-by排序注入/" style="font-size: 10px;">order by排序注入</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/phpstudy/" style="font-size: 10px;">phpstudy</a> <a href="/tags/requests库/" style="font-size: 10px;">requests库</a> <a href="/tags/urllib库/" style="font-size: 10px;">urllib库</a> <a href="/tags/二次注入/" style="font-size: 10px;">二次注入</a> <a href="/tags/任意文件读取与下载漏洞/" style="font-size: 10px;">任意文件读取与下载漏洞</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a> <a href="/tags/前端/" style="font-size: 12.86px;">前端</a> <a href="/tags/协议层/" style="font-size: 10px;">协议层</a> <a href="/tags/南邮/" style="font-size: 11.43px;">南邮</a> <a href="/tags/反序列化漏洞/" style="font-size: 10px;">反序列化漏洞</a> <a href="/tags/命令执行与代码执行/" style="font-size: 10px;">命令执行与代码执行</a> <a href="/tags/基本语法/" style="font-size: 10px;">基本语法</a> <a href="/tags/堆叠注入/" style="font-size: 10px;">堆叠注入</a> <a href="/tags/字符串及正则表达式/" style="font-size: 10px;">字符串及正则表达式</a> <a href="/tags/安恒/" style="font-size: 10px;">安恒</a> <a href="/tags/容器/" style="font-size: 10px;">容器</a> <a href="/tags/宽字节注入/" style="font-size: 10px;">宽字节注入</a> <a href="/tags/导出文件注入/" style="font-size: 10px;">导出文件注入</a> <a href="/tags/序列的应用/" style="font-size: 10px;">序列的应用</a> <a href="/tags/开发/" style="font-size: 14.29px;">开发</a> <a href="/tags/开发工具/" style="font-size: 10px;">开发工具</a> <a href="/tags/异常处理及程序调试/" style="font-size: 10px;">异常处理及程序调试</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/报错注入/" style="font-size: 10px;">报错注入</a> <a href="/tags/操作数据库/" style="font-size: 10px;">操作数据库</a> <a href="/tags/攻防世界/" style="font-size: 11.43px;">攻防世界</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文件上传漏洞/" style="font-size: 11.43px;">文件上传漏洞</a> <a href="/tags/文件包含漏洞/" style="font-size: 10px;">文件包含漏洞</a> <a href="/tags/文件及目录操作/" style="font-size: 10px;">文件及目录操作</a> <a href="/tags/期末复习/" style="font-size: 10px;">期末复习</a> <a href="/tags/模块/" style="font-size: 10px;">模块</a> <a href="/tags/河南高校网安联赛/" style="font-size: 10px;">河南高校网安联赛</a> <a href="/tags/流程控制/" style="font-size: 10px;">流程控制</a> <a href="/tags/源码泄露/" style="font-size: 10px;">源码泄露</a> <a href="/tags/盲注/" style="font-size: 10px;">盲注</a> <a href="/tags/移位编码/" style="font-size: 10px;">移位编码</a> <a href="/tags/简单加密/" style="font-size: 10px;">简单加密</a> <a href="/tags/线下/" style="font-size: 11.43px;">线下</a> <a href="/tags/网络爬虫/" style="font-size: 10px;">网络爬虫</a> <a href="/tags/过滤敏感关键字与WAF绕过/" style="font-size: 10px;">过滤敏感关键字与WAF绕过</a> <a href="/tags/镜像/" style="font-size: 10px;">镜像</a> <a href="/tags/问题整理/" style="font-size: 10px;">问题整理</a> <a href="/tags/隐写/" style="font-size: 11.43px;">隐写</a></div></div></div><div class=search-wrap><span class=search-close>&times;</span> <a href=javascript:; class="header-icon waves-effect waves-circle waves-light" id=back><i class="icon icon-lg icon-chevron-left"></i></a> <input class=search-field placeholder=Search... id=keywords> <a id=search-submit href=javascript:;><i class="fa fa-search"></i></a><div class=search-container id=search-container><ul class=search-result id=search-result></ul></div></div><div id=search-tpl><li class=search-result-item><a href={url} class=search-item-li><span class=search-item-li-title title={title}>{title}</span></a></li></div><script src=/js/search.js></script><script src=/js/main.js></script><script src=//cdn.bootcss.com/particles.js/2.0.0/particles.min.js></script><div id=particles></div><script src=/js/particles.js></script><link rel=stylesheet href=//cdn.bootcss.com/animate.css/3.5.0/animate.min.css><script src=//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js></script><script src=/js/animate.js></script><script src=/js/pop-img.js></script><script>
     $(".article-entry p img").popImg();
  </script><script type=text/javascript src=/js/clicklove.js></script></div><script src=/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>